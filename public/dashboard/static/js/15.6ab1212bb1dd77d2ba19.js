webpackJsonp([15],{"+FZB":function(t,e){},"/z1T":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("RuWt"),i=a("tIHl"),n=a("TPXC"),l=(a("oFuF"),a("h72K")),r=a("deIM"),o=(a("E4LH"),{components:{Dialog:r.a},data:function(){return{title:"详情",visible:!1,name:"",minX:0,minY:0,maxX:0,maxY:0,columns:[{title:"层级",key:"level",width:100,className:"table-header-text-default"},{title:"像素大小",key:"resolution",className:"table-header-text-default"},{title:"比例尺",key:"scale",slot:"scale",className:"table-header-text-default"}],list:[]}},methods:{clear:function(){this.name="",this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.list=[]},handleClose:function(){this.clear(),this.visible=!1},show:function(t){var e=this,a=(t||{}).name;if(this.clear(),a){this.name=a;var s={name:a,success:function(t){var a=t||{},s=a.max_x,i=void 0===s?0:s,n=a.max_y,l=void 0===n?0:n,r=a.min_x,o=void 0===r?0:r,c=a.min_y,d=void 0===c?0:c,h=a.name,u=void 0===h?"":h,m=a.detail,p=void 0===m?[]:m;e.name=u,e.minX=o,e.minY=d,e.maxX=i,e.maxY=l,e.list=p,e.visible=!0}};this.$http.getGridsetByName(s)}}}}),c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Dialog",{attrs:{isShowBottomBtn:!1,title:t.title,visible:t.visible,showStep:!1,styles:{top:"15vh",width:"700px"}},on:{cus_cancel:t.handleClose}},[a("Row",{staticClass:"row-item t-s-d-item",attrs:{type:"flex",align:"middle"}},[a("Col",{attrs:{span:"4"}},[a("span",[t._v("名称")])]),t._v(" "),a("Col",{attrs:{span:"20"}},[a("span",[t._v(t._s(t.name))])])],1),t._v(" "),a("Row",{staticClass:"row-item t-s-d-item",attrs:{type:"flex",align:"middle"}},[a("Col",{attrs:{span:"4"}},[a("span",[t._v("范围最小X")])]),t._v(" "),a("Col",{attrs:{span:"20"}},[a("span",[t._v(t._s(t.minX))])])],1),t._v(" "),a("Row",{staticClass:"row-item t-s-d-item",attrs:{type:"flex",align:"middle"}},[a("Col",{attrs:{span:"4"}},[a("span",[t._v("范围最小Y")])]),t._v(" "),a("Col",{attrs:{span:"20"}},[a("span",[t._v(t._s(t.minY))])])],1),t._v(" "),a("Row",{staticClass:"row-item t-s-d-item",attrs:{type:"flex",align:"middle"}},[a("Col",{attrs:{span:"4"}},[a("span",[t._v("范围最大X")])]),t._v(" "),a("Col",{attrs:{span:"20"}},[a("span",[t._v(t._s(t.maxX))])])],1),t._v(" "),a("Row",{staticClass:"row-item t-s-d-item",attrs:{type:"flex",align:"middle"}},[a("Col",{attrs:{span:"4"}},[a("span",[t._v("范围最大Y")])]),t._v(" "),a("Col",{attrs:{span:"20"}},[a("span",[t._v(t._s(t.maxY))])])],1),t._v(" "),a("Row",{staticClass:"row-item t-s-d-item",attrs:{type:"flex",align:"middle"}},[a("Col",{attrs:{span:"4"}},[a("span",[t._v("层级列表")])])],1),t._v(" "),a("Table",{staticClass:"cus-view",staticStyle:{"margin-top":"4px"},attrs:{columns:t.columns,data:t.list,height:200},scopedSlots:t._u([{key:"scale",fn:function(e){var s=e.row;return[a("div",{staticClass:"label-ellipsis",attrs:{title:"1:"+s.scale}},[t._v(t._s("1:"+s.scale))])]}}])})],1)},staticRenderFns:[]};var d=a("C7Lr")(o,c,!1,function(t){a("hj47")},"data-v-612dbb61",null).exports,h={components:{CsPage:n.a,GridsetDetailDialog:d},mixins:[l.a],data:function(){return{timer:null,isNoData:!1,noDataImg:s.t,columns:[{title:"名称",key:"name",slot:"name",className:"table-header-text-default"},{title:"坐标系",key:"srid",slot:"srid",className:"table-header-text-default"},{title:"瓦片宽度",key:"tile_width",className:"table-header-text-default"},{title:"瓦片高度",key:"tile_height",className:"table-header-text-default"},{title:"操作",slot:"action",align:"left",width:150,className:"table-header-text-default"}],list:[],key:"",current:1,pageSize:5*s.y,total:0,orderBy:s.x.ASC,fieldOrder:s.i.SRID}},computed:{isDesc:function(){return this.orderBy==s.x.DESC}},mounted:function(){this.clear(),this.query(this.key,this.pageSize,this.current)},methods:{clear:function(){this.list=[],this.key="",this.current=1,this.pageSize=5*s.y,this.total=0},handleOrderByClick:function(){this.orderBy==s.x.DESC?this.orderBy=s.x.ASC:this.orderBy=s.x.DESC,this.query(this.key,this.pageSize,this.current)},handleSearch:function(){this.current=1,this.query(this.key,this.pageSize,this.current)},handleNewClick:function(){Object(i.b)("无法新建自定义网格矩阵集,请联系管理员！")},handlePageSizeChange:function(t){this.pageSize=t,this.current=1,this.query(this.key,this.pageSize,this.current)},handleChangePage:function(t){this.current=t,this.query(this.key,this.pageSize,this.current)},query:function(t,e,a){var s=this,i={params:{key:t,page_size:e,page:a,sortby:this.fieldOrder,order:this.orderBy},success:function(t){t=t||{},s.total=t.total?t.total:0;var e=t.rows?t.rows:[];s.list=e}};this.$http.searchGridsetsByKey(i)},handleDetailClick:function(t){this.$refs.gridsetDetailDialog.show(t)}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%",height:"100%"}},[a("div",{staticClass:"right-body"},[a("Row",{staticClass:"cus-view-search right-subject-item",attrs:{type:"flex",align:"middle"}},[a("Col",{attrs:{span:"20"}},[a("Input",{staticStyle:{width:"250px"},attrs:{search:"",placeholder:"搜索",suffix:"ios-search"},on:{"on-enter":t.handleSearch,"on-search":t.handleSearch},model:{value:t.key,callback:function(e){t.key="string"==typeof e?e.trim():e},expression:"key"}}),t._v(" "),a("span",{staticClass:"content-text-default span-split",staticStyle:{"font-size":"14px","margin-left":"10px"},on:{click:function(e){return e.stopPropagation(),t.handleOrderByClick.apply(null,arguments)}}},[a("Icon",{staticStyle:{"font-size":"16px"},attrs:{type:t.isDesc?"md-arrow-round-down":"md-arrow-round-up"}}),t._v("坐标系\n\t\t\t")],1)],1),t._v(" "),a("Col",{staticStyle:{"text-align":"right"},attrs:{span:"4"}},[a("div",{staticClass:"cus-buttom",on:{click:t.handleNewClick}},[t._v("新建")])])],1),t._v(" "),a("div",{staticClass:"cus-view"},[a("Table",{attrs:{columns:t.columns,data:t.list,"max-height":t.tableHeight},scopedSlots:t._u([{key:"name",fn:function(e){var s=e.row;return[a("div",{staticClass:"label-ellipsis",attrs:{title:s.name}},[t._v(t._s(s.name))])]}},{key:"srid",fn:function(e){var s=e.row;return[a("div",[t._v(t._s(s.auth_name+":"+s.srid))])]}},{key:"action",fn:function(e){var s=e.row;return[a("span",{staticClass:"content-text-default span-split",on:{click:function(e){return t.handleDetailClick(s)}}},[a("i",{staticClass:"iconfont iconxiangqing- content-text-default"}),t._v("\n\t\t\t\t\t\t详情\n\t\t\t\t\t")])]}}])}),t._v(" "),a("Row",{staticClass:"right-subject-item",attrs:{type:"flex",align:"middle"}},[a("Col",{attrs:{span:"24"}},[a("CsPage",{attrs:{current:t.current,"page-size":t.pageSize,total:t.total},on:{"on-page-size-change":t.handlePageSizeChange,"on-change":t.handleChangePage}})],1)],1)],1)],1),t._v(" "),a("GridsetDetailDialog",{ref:"gridsetDetailDialog"})],1)},staticRenderFns:[]};var m=a("C7Lr")(h,u,!1,function(t){a("+FZB")},"data-v-0b3aa0b7",null);e.default=m.exports},hj47:function(t,e){}});