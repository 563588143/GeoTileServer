webpackJsonp([13],{"/6cs":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("4YfN"),s=a.n(n),i=a("Ip1L"),l=a("bSIt"),o={components:{NewMapDialog:i.a},data:function(){return{list:[]}},mounted:function(){this.list=[{label:"数据编辑器",icon:"iconbianji",bgColor:"#4087f7",path:this.host+"/apps/edit/vector",type:1},{label:"地图编辑器",icon:"iconditu-",bgColor:"#00bfa5",path:this.host+"/apps/map/edit",type:2}]},computed:s()({},Object(l.b)(["host"])),methods:{handleItemClick:function(t){switch(t.type){case 1:window.open(t.path);break;case 2:this.$refs.newMapDialog2.show()}},handleRefresh:function(t){if(t){var e=this.list[1];window.open(e.path+"?id="+t)}else this.$Message.error("地图创建失败!")}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-tool-containter"},[t._l(t.list,function(e,n){return a("div",{key:n,staticClass:"app-tool-item cus-view"},[a("a",{attrs:{target:"_blank"},on:{click:function(a){return t.handleItemClick(e)}}},[a("span",{style:{backgroundColor:e.bgColor}},[a("i",{class:["iconfont",e.icon]})]),t._v(" "),a("span",{staticClass:"sub-tab-label",staticStyle:{"margin-top":"5px"}},[t._v(t._s(e.label))])])])}),t._v(" "),a("NewMapDialog",{ref:"newMapDialog2",on:{refresh:t.handleRefresh}})],2)},staticRenderFns:[]};var c=a("C7Lr")(o,r,!1,function(t){a("wLqA")},"data-v-7b1e1d20",null);e.default=c.exports},Ip1L:function(t,e,a){"use strict";var n=a("deIM"),s=a("E4LH"),i=a("oFuF"),l=a("RuWt"),o=a("tIHl"),r={components:{Dialog:n.a},data:function(){return{title:"新建地图",visible:!1,name:"",curCrs:l.h,list:l.J}},computed:{},watch:{},methods:{getCrsLabel:i.a.getCrsLabel,handleClose:function(){this.clear()},clear:function(){this.visible=!1},show:function(t){this.clear(),this.visible=!0},handleOk:function(){var t=this;if(!s.f(this.name))return Object(o.a)("名称不能为空"),!1;if(s.c(this.name))return Object(o.a)("名称不能超过64"),!1;var e={params:{name:this.name,srid:this.curCrs},success:function(e){t.handleClose(),t.$bus.$emit(l.k.PROJECT_STATISTICS),t.$emit("refresh",e)}};this.$http.createMapStyle(e)}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Dialog",{attrs:{isShowBottomBtn:!1,title:t.title,visible:t.visible,showStep:!1,styles:{top:"15vh",width:"400px"}},on:{cus_cancel:t.handleClose}},[a("Row",{staticClass:"row-item",attrs:{type:"flex",align:"middle"}},[a("Col",{attrs:{span:"6"}},[t._v("地图名称")]),t._v(" "),a("Col",{attrs:{span:"18"}},[a("Input",{attrs:{placeholder:"请输入名称,长度不能超过64"},model:{value:t.name,callback:function(e){t.name="string"==typeof e?e.trim():e},expression:"name"}})],1)],1),t._v(" "),a("Row",{staticClass:"row-item",attrs:{type:"flex",align:"middle"}},[a("Col",{attrs:{span:"6"}},[t._v("坐标系")]),t._v(" "),a("Col",{attrs:{span:"18"}},[a("Select",{model:{value:t.curCrs,callback:function(e){t.curCrs=e},expression:"curCrs"}},t._l(t.list,function(e){return a("Option",{key:e.srid,attrs:{value:e.srid}},[t._v(t._s(t.getCrsLabel(e)))])}),1)],1)],1),t._v(" "),a("Row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",justify:"end"}},[a("Col",{staticStyle:{"text-align":"right"},attrs:{span:"24"}},[a("Button",{staticStyle:{"margin-right":"20px",width:"60px"},on:{click:function(e){return e.stopPropagation(),t.handleClose.apply(null,arguments)}}},[t._v("取消")]),t._v(" "),a("Button",{staticStyle:{width:"60px"},attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.handleOk.apply(null,arguments)}}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]};var p=a("C7Lr")(r,c,!1,function(t){a("LETn")},"data-v-63665d7f",null);e.a=p.exports},LETn:function(t,e){},wLqA:function(t,e){}});