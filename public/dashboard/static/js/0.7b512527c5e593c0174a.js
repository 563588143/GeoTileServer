webpackJsonp([0],{"/tnA":function(t,s,i){var e=i("GI8K"),a=i("LYr1")("iterator"),n=i("Bcth");t.exports=i("DH3n").getIteratorMethod=function(t){if(void 0!=t)return t[a]||t["@@iterator"]||n[e(t)]}},"0Ms4":function(t,s){},"2ECT":function(t,s,i){var e=i("7NgR"),a=i("GD6k"),n=i("r0TM"),r=i("eB8C")("IE_PROTO"),h=function(){},o=function(){var t,s=i("KYOo")("iframe"),e=n.length;for(s.style.display="none",i("2ey+").appendChild(s),s.src="javascript:",(t=s.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),o=t.F;e--;)delete o.prototype[n[e]];return o()};t.exports=Object.create||function(t,s){var i;return null!==t?(h.prototype=e(t),i=new h,h.prototype=null,i[r]=t):i=o(),void 0===s?i:a(i,s)}},"2ZiF":function(t,s,i){"use strict";var e=i("1tfL"),a=i("uSC2"),n=i("PGvq"),r=i("V88E"),h=i("pBi0"),o=i("qaXV"),l=i("bJ/5"),c=i("/tnA");a(a.S+a.F*!i("3Bg5")(function(t){Array.from(t)}),"Array",{from:function(t){var s,i,a,u,f=n(t),d="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,M=void 0!==m,g=0,v=c(f);if(M&&(m=e(m,p>2?arguments[2]:void 0,2)),void 0==v||d==Array&&h(v))for(i=new d(s=o(f.length));s>g;g++)l(i,g,M?m(f[g],g):f[g]);else for(u=v.call(f),i=new d;!(a=u.next()).done;g++)l(i,g,M?r(u,m,[a.value,g],!0):a.value);return i.length=g,i}})},"2ey+":function(t,s,i){var e=i("kqDl").document;t.exports=e&&e.documentElement},"36zb":function(t,s,i){var e=i("FIRb").f,a=i("ypNa"),n=i("LYr1")("toStringTag");t.exports=function(t,s,i){t&&!a(t=i?t:t.prototype,n)&&e(t,n,{configurable:!0,value:s})}},"3Bg5":function(t,s,i){var e=i("LYr1")("iterator"),a=!1;try{var n=[7][e]();n.return=function(){a=!0},Array.from(n,function(){throw 2})}catch(t){}t.exports=function(t,s){if(!s&&!a)return!1;var i=!1;try{var n=[7],r=n[e]();r.next=function(){return{done:i=!0}},n[e]=function(){return r},t(n)}catch(t){}return i}},"8Cjl":function(t,s,i){var e=i("rUkD"),a=i("/0Tg");t.exports=function(t){return function(s,i){var n,r,h=String(a(s)),o=e(i),l=h.length;return o<0||o>=l?t?"":void 0:(n=h.charCodeAt(o))<55296||n>56319||o+1===l||(r=h.charCodeAt(o+1))<56320||r>57343?t?h.charAt(o):n:t?h.slice(o,o+2):r-56320+(n-55296<<10)+65536}}},"8LqW":function(t,s,i){i("qbdk");for(var e=i("kqDl"),a=i("Q2fR"),n=i("Bcth"),r=i("LYr1")("toStringTag"),h="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),o=0;o<h.length;o++){var l=h[o],c=e[l],u=c&&c.prototype;u&&!u[r]&&a(u,r,l),n[l]=n.Array}},"9AOO":function(t,s){},ApMy:function(t,s){},Bcth:function(t,s){t.exports={}},CnHQ:function(t,s,i){"use strict";var e=i("adg3"),a=i("uSC2"),n=i("QoE5"),r=i("Q2fR"),h=i("Bcth"),o=i("G9FL"),l=i("36zb"),c=i("Rckn"),u=i("LYr1")("iterator"),f=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,s,i,p,m,M,g){o(i,s,p);var v,y,_,x=function(t){if(!f&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},b=s+" Iterator",S="values"==m,w=!1,C=t.prototype,k=C[u]||C["@@iterator"]||m&&C[m],N=k||x(m),I=m?S?x("entries"):N:void 0,A="Array"==s&&C.entries||k;if(A&&(_=c(A.call(new t)))!==Object.prototype&&_.next&&(l(_,b,!0),e||"function"==typeof _[u]||r(_,u,d)),S&&k&&"values"!==k.name&&(w=!0,N=function(){return k.call(this)}),e&&!g||!f&&!w&&C[u]||r(C,u,N),h[s]=N,h[b]=d,m)if(v={values:S?N:x("values"),keys:M?N:x("keys"),entries:I},g)for(y in v)y in C||n(C,y,v[y]);else a(a.P+a.F*(f||w),s,v);return v}},E4LH:function(t,s,i){"use strict";s.c=function(t,s){null==t&&(t="");t=t.toString().trim(),(s=s||64)<=0&&(s=64);return t.length>=s},s.f=function(t){return void 0!=t&&null!=t&&t.trim().length>0},s.e=n,s.a=r,i.d(s,"b",function(){return r}),s.d=function(t){if(r(t))return!0;for(var s in a.B)if(t.toLowerCase()==a.B[s])return!0;return!1};var e=i("HzJ8"),a=(i.n(e),i("RuWt"));function n(t){t=null==t||void 0==t?"":t.toString();return!(!/^\d+(\.\d+)?$/.test(t)&&!/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/.test(t))}function r(t){return void 0===t||null==t||""==t.trim()}},Eo19:function(t,s){},FCy9:function(t,s,i){"use strict";var e=i("deIM"),a=i("tIHl"),n={data:function(){return{accept:"application/x-zip-compressed,.geojson",format:["zip","geojson"],file:null,maxSize:512e3,showUpload:!0,percent:0}},methods:{handleBeforeUpload:function(t){return this.file=null,/\.(zip|geojson)$/.test(t.name)?t.size>1024*this.maxSize?(Object(a.a)(this.$t("message.fileSize500MError")),this.$refs.upload.clearFiles(),!1):(this.file=t,this.uploadFile(),!1):(Object(a.a)(this.$t("message.fileFormatError")),this.$refs.upload.clearFiles(),!1)},clearProgress:function(){this.progress=0},clear:function(){this.percent=0,this.file=null,this.showUpload=!0},uploadFile:function(){var t=this;if(!this.file)return Object(a.a)(this.$t("message.fileNullError")),!1;if(!/\.(zip|geojson)$/.test(this.file.name))return Object(a.a)(this.$t("message.fileFormatError")),!1;var s=new FormData;s.append("file",this.file);var i={params:s,uploadProgress:function(s){t.percent=s.loaded/s.total*100|0},success:function(s){if(!s||0==s.length)return Object(a.b)("没有图层,请重新选择."),t.showUpload=!0,t.clearProgress(),!1;t.goNext(s)},error:function(s){s?Object(a.a)(s):Object(a.a)("未知错误"),t.showUpload=!0,t.clearProgress()}};this.showUpload=!1,this.clearProgress(),this.$http.updateVectorFile(i)},goNext:function(t){this.$emit("next",{step:1,layers:t}),this.showUpload=!0,this.clearProgress(),this.file=null}}},r={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showUpload,expression:"showUpload"}],staticClass:"upload_layout"},[i("span",{staticStyle:{color:"#707482","font-size":"14px","margin-bottom":"10px"}},[t._v("选择要上传的文件")]),t._v(" "),i("Upload",{ref:"upload",staticStyle:{width:"100%",padding:"0 20px"},attrs:{accept:t.accept,format:t.format,type:"drag","max-size":t.maxSize,action:"","before-upload":t.handleBeforeUpload}},[i("div",{staticClass:"upload-sub-layout"},[i("p",{staticStyle:{color:"#10243C","font-size":"12px",display:"flex","flex-direction":"row","align-items":"center"}},[i("i",{staticClass:"iconfont iconshangchuan-1 i-upload"}),t._v("\n          将文件拖至此处 或\n          "),i("span",{staticStyle:{color:"#44AAF6","margin-left":"5px"}},[t._v("点击上传")]),t._v("，文件大小不能超过500 MB\n        ")])])]),t._v(" "),i("span",{staticStyle:{color:"red","font-size":"12px","margin-top":"5px"}},[t._v("支持的文件格式包括：SHP(ZIP压缩包)、GeoJSON、GDB地理数据库(ZIP压缩包)")])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showUpload,expression:"!showUpload"}],staticClass:"upload_layout"},[i("Progress",{attrs:{"stroke-width":20,percent:t.percent}})],1)])},staticRenderFns:[]};var h=i("C7Lr")(n,r,!1,function(t){i("LLO6")},"data-v-2cea7959",null).exports,o=i("IHPB"),l=i.n(o),c=i("4YfN"),u=i.n(c),f=i("oFuF"),d=i("RuWt"),p=i("TPXC"),m=i("Izdj"),M={components:{Dialog:e.a,CsPage:p.a},mixins:[m.a],data:function(){return{charsets:d.I,tableHeight:0,list:[],visible:!1,columns:[],title:"数据预览",key:"",pageSize:5*d.y,total:0,current:1,selfLayerInfo:null,code:d.d}},watch:{totalHeight:function(t){this.tableHeight=t>0?t-113:0}},methods:{clear:function(){this.list=[],this.columns=[],this.pageSize=5*d.y,this.total=0,this.current=1,this.selfLayerInfo=null,this.code=d.d},show:function(t){this.clear(),this.onResize&&this.onResize(),t=t||{},this.selfLayerInfo=u()({},t),this.code=this.selfLayerInfo.encode?this.selfLayerInfo.encode:d.d,this.queryAttributes(t,this.pageSize,this.current),this.visible=!0},handleClose:function(){this.clear(),this.tableHeight=0,this.offResize&&this.offResize(),this.visible=!1},handleCodeChange:function(){this.queryAttributes(this.selfLayerInfo,this.pageSize,this.current)},handlePageSizeChange:function(t){this.current=1,this.pageSize=t,this.queryAttributes(this.selfLayerInfo,this.pageSize,this.current)},handleChangePage:function(t){this.current=t,this.queryAttributes(this.selfLayerInfo,this.pageSize,this.current)},queryAttributes:function(t,s,i){var e=this,a={id:t.id,params:{name:t.name,path:t.path,encode:this.code,page:i,page_size:s},success:function(t){var s=t=t||{},i=s.fields,a=void 0===i?[]:i,n=s.rows,r=void 0===n?[]:n,h=s.total,o=void 0===h?0:h;e.columns=[],a.forEach(function(t){e.columns.push({title:t.name,key:t.name,className:"table-header-text-default",ellipsis:!0,minWidth:150})}),e.list=r,e.total=o}};this.$http.getLayerAttributes(a)}}},g={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("Dialog",{staticClass:"cus-view",attrs:{isShowBottomBtn:!1,title:t.title,fullscreen:!0,visible:t.visible,showStep:!1,isShowBg:!0},on:{cus_cancel:t.handleClose}},[i("Table",{staticClass:"cus-view",attrs:{border:"",columns:t.columns,data:t.list,"max-height":t.tableHeight}}),t._v(" "),i("Row",{staticClass:"cus-view",staticStyle:{"padding-top":"16px"},attrs:{type:"flex",justify:"end",align:"middle"}},[i("Col",{attrs:{span:"24"}},[i("p",{staticStyle:{display:"inline-block","vertical-align":"middle",color:"#4087f7"}},[t._v("若出现乱码请修改编码")]),t._v(" "),i("Select",{staticStyle:{width:"120px",margin:"0 12px"},on:{"on-change":t.handleCodeChange},model:{value:t.code,callback:function(s){t.code=s},expression:"code"}},t._l(t.charsets,function(s,e){return i("Option",{key:e,attrs:{value:s.value}},[t._v(t._s(s.label))])}),1),t._v(" "),i("CsPage",{attrs:{current:t.current,"page-size":t.pageSize,total:t.total},on:{"on-page-size-change":t.handlePageSizeChange,"on-change":t.handleChangePage}})],1)],1)],1)},staticRenderFns:[]},v=i("C7Lr")(M,g,!1,null,null,null).exports,y=i("E4LH"),_=i("mqoy"),x={props:{fields:{type:Array,default:function(){return[]}}},data:function(){var t=this;return{columns:[{isCheckAll:!1,title:"源名称",key:"sourceName",slot:"sourceName",className:"table-header-text-default",renderHeader:function(s,i){return s("div",[s("i",{class:["iconfont",t.isCheckAll?"iconyixuan-":"iconkuang-"],style:{cursor:"pointer",verticalAlign:"middle",display:"inline-block"},on:{click:t.handleCheckChange}}),s("span",{style:{marginLeft:"10px",verticalAlign:"middle"}},i.column.title)])}},{title:"新名称",key:"name",slot:"name",className:"table-header-text-default"},{title:"类型",key:"type",slot:"type",width:100,className:"table-header-text-default"},{title:"长度",key:"width",width:70,className:"table-header-text-default"},{title:"精度",key:"precision",width:70,className:"table-header-text-default"}],list:[]}},methods:{getDataTypeLabel:f.a.getDataTypeLabel,handleCheckChange:function(){var t=this;this.isCheckAll=!this.isCheckAll,this.list.forEach(function(s){s.checked=t.isCheckAll}),this.$emit("fields-change",this.list)},handleCheckState:function(t){this.list.forEach(function(s){s.name==t.name&&(s.checked=!s.checked)}),this.setCheckAllState(),this.$emit("fields-change",this.list)},handleCheckIndexState:function(t){this.list.forEach(function(s){s.name==t.name&&(s.checkedIndex=!s.checkedIndex)}),this.$emit("fields-change",this.list)},init:function(t){this.list=t?[].concat(l()(t)):[];var s=this.list.find(function(t){return 0==t.checked});this.isCheckAll=!s},setCheckAllState:function(){if(!this.list||0==this.list.length)return this.isCheckAll=!1,!1;var t=this.list.find(function(t){return 0==t.checked});this.isCheckAll=!t},handleBlur:function(t){if(Object(y.a)(t.name))return Object(a.a)(this.$t("message.fieldNameNullError")),!1;if(Object(y.c)(t.name,32))return Object(a.a)(this.$t("message.fieldLength32Error")),!1;if(Object(y.d)(t.name))return Object(a.a)("gid,geom,version为系统字段名"),!1;for(var s=0,i=this.list.length,e=0;e<i;e++)t.name.toLowerCase()==this.list[e].name.toLowerCase()&&(s+=1);return s>=2?(Object(a.a)(this.$t("message.fieldExistError",{name:t.name})),!1):void 0},handleChange:function(t,s){this.$set(this.list,s,t),this.$emit("fields-change",this.list)}},watch:{fields:{handler:function(t){this.init(t)}}},created:function(){this.init(this.fields)}},b={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("Table",{staticClass:"cus-view",attrs:{border:"",height:"200",columns:t.columns,data:t.list},scopedSlots:t._u([{key:"sourceName",fn:function(s){var e=s.row;return[e.checked?i("i",{staticClass:"iconfont iconyixuan-",staticStyle:{cursor:"pointer","vertical-align":"middle",display:"inline-block"},on:{click:function(s){return t.handleCheckState(e)}}}):i("i",{staticClass:"iconfont iconkuang-",staticStyle:{cursor:"pointer","vertical-align":"middle",display:"inline-block"},on:{click:function(s){return t.handleCheckState(e)}}}),t._v(" "),i("span",{staticStyle:{"margin-left":"6px","vertical-align":"middle"}},[t._v(t._s(e.sourceName))])]}},{key:"name",fn:function(s){var e=s.row,a=s.index;return[i("div",[i("Input",{on:{"on-blur":function(s){return t.handleBlur(e,a)},"on-change":function(s){return t.handleChange(e,a)}},model:{value:e.name,callback:function(s){t.$set(e,"name","string"==typeof s?s.trim():s)},expression:"row.name"}})],1)]}},{key:"type",fn:function(s){var i=s.row;return[t._v(t._s(t.getDataTypeLabel(i.type)))]}}])})},staticRenderFns:[]};var S=i("C7Lr")(x,b,!1,function(t){i("qbHO")},"data-v-7fbb7993",null).exports,w={components:{Dialog:e.a,FieldsSetting:S,SrsDialog:_.a,PreviewDataDialog:v},data:function(){return{current:0,visible:!1,selfEncode:d.d,charsets:d.I,selfIsSourceSrs:!1,selfLayerName:"",selfFields:[],selfSourceSrs:null,selfTargetSrs:null,selfLayerConfig:null}},computed:{sourceSrsName:function(){return this.selfSourceSrs&&this.selfSourceSrs.name?this.selfSourceSrs.name:"无"},targetSrsName:function(){return this.selfTargetSrs&&this.selfTargetSrs.name?this.selfTargetSrs.name:"无"}},methods:{handleViewClick:function(){if(this.selfLayerConfig){var t=u()({},this.selfLayerConfig);t.encode=this.selfEncode,this.$refs.preData&&this.$refs.preData.show(t)}},showSrsDialog:function(t){this.current=t,this.$refs.srsDialog.show()},handleSrsSelect:function(t){1==this.current?this.selfSourceSrs=u()({},t):this.selfTargetSrs=u()({},t)},clear:function(){this.selfIsSourceSrs=!1,this.current=0,this.selfEncode=d.d,this.selfLayerName="",this.selfFields=[],this.selfSourceSrs=null,this.selfTargetSrs=null,this.selfLayerConfig=null},show:function(t){if(this.clear(),!t)return Object(a.a)("无图层"),!1;0==(t=t||{}).state?(this.selfLayerName=t.layerName,this.selfLayerConfig=u()({},t),this.queryLayerMetaData(t,this.selfEncode)):(this.selfIsSourceSrs=!!t.isSourceSrs,this.selfEncode=t.encode,this.selfLayerName=t.layerName,this.selfSourceSrs=t.sourceSrs?u()({},t.sourceSrs):{},this.selfTargetSrs=t.targetSrs?u()({},t.targetSrs):{},this.selfFields=t.fields?[].concat(l()(t.fields)):[],this.selfLayerConfig=u()({},t)),this.visible=!0},handleClose:function(){this.clear(),this.visible=!1},handleOk:function(){if(Object(y.a)(this.selfLayerName))return Object(a.a)("图层名称不能为空"),!1;if(!this.selfSourceSrs||!this.selfSourceSrs.srid)return Object(a.a)("源坐标系未设置"),!1;for(var t=this.selfFields?this.selfFields.length:0,s=[],i=0;i<t;i++){var e=this.selfFields[i].name;(Object(y.a)(e)||Object(y.c)(e)||Object(y.d)(e))&&s.push(e)}if(s.length>0)return Object(a.a)(s.join()+"字段不合法"),!1;this.selfLayerConfig.fields=this.selfFields,this.selfLayerConfig.isSourceSrs=this.selfIsSourceSrs,this.selfLayerConfig.sourceSrs=this.selfSourceSrs,this.selfLayerConfig.targetSrs=this.selfTargetSrs,this.selfLayerConfig.encode=this.selfEncode,this.selfLayerConfig.layerName=this.selfLayerName,this.selfLayerConfig.state=1,this.$emit("layer-change",u()({},this.selfLayerConfig)),this.handleClose()},handleFieldsChange:function(t){t=t||[],this.selfFields=t},queryLayerMetaData:function(t,s){var i=this,e={id:t.id,params:{name:t.name,path:t.path,encode:s},success:function(t){var s=t||{},e=s.srs,a=void 0===e?{}:e,n=s.fields,r=void 0===n?[]:n;i.selfIsSourceSrs=!(!a||!a.name),i.selfSourceSrs=u()({},a),i.selfTargetSrs=u()({},a),r.forEach(function(t){t.checked=!0,t.sourceName=t.name}),i.selfFields=[].concat(l()(r))}};this.$http.getLayerMetaData(e)}}},C={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("Dialog",{attrs:{title:"图层导入设置",visible:t.visible,showStep:!1,styles:{top:"15vh",width:"700px"}},on:{cus_cancel:t.handleClose}},[i("div",[i("div",{staticClass:"i-s-item"},[i("div",{staticClass:"left-pannel"},[i("span",[t._v("*")]),t._v("图层名称\n        ")]),t._v(" "),i("div",{staticClass:"right-pannel"},[i("span",[t._v("*")]),t._v("编码\n        ")])]),t._v(" "),i("Row",{staticClass:"row-item-split",attrs:{gutter:30,type:"flex"}},[i("Col",{attrs:{span:"12"}},[i("Input",{attrs:{placeholder:"请输入名称"},model:{value:t.selfLayerName,callback:function(s){t.selfLayerName="string"==typeof s?s.trim():s},expression:"selfLayerName"}})],1),t._v(" "),i("Col",{attrs:{span:"12"}},[i("Select",{model:{value:t.selfEncode,callback:function(s){t.selfEncode="string"==typeof s?s.trim():s},expression:"selfEncode"}},t._l(t.charsets,function(s,e){return i("Option",{key:e,attrs:{value:s.value}},[t._v(t._s(s.label))])}),1)],1)],1),t._v(" "),i("div",{staticClass:"i-s-item row-item-split"},[i("div",{staticClass:"left-pannel"},[i("span",[t._v("*")]),t._v("原始坐标系\n        ")]),t._v(" "),i("div",{staticClass:"right-pannel"},[i("span",[t._v("*")]),t._v("目标坐标系\n        ")])]),t._v(" "),i("Row",{staticClass:"row-item-split",attrs:{gutter:30,type:"flex"}},[i("Col",{attrs:{span:"12"}},[t.selfIsSourceSrs?i("Row",{attrs:{type:"flex",align:"middle"}},[i("Col",{attrs:{span:"24"}},[i("Input",{attrs:{disabled:""},model:{value:t.sourceSrsName,callback:function(s){t.sourceSrsName=s},expression:"sourceSrsName"}})],1)],1):i("Row",{attrs:{type:"flex",align:"middle"}},[i("Col",{attrs:{span:"21"}},[i("Input",{staticClass:"label-ellipsis",attrs:{disabled:""},model:{value:t.sourceSrsName,callback:function(s){t.sourceSrsName=s},expression:"sourceSrsName"}})],1),t._v(" "),i("Col",{staticStyle:{"text-align":"right"},attrs:{span:"3"}},[i("span",{staticClass:"content-text-default span-split",on:{click:function(s){return s.stopPropagation(),t.showSrsDialog(1)}}},[t._v("选择")])])],1)],1),t._v(" "),i("Col",{attrs:{span:"12"}},[i("Row",{attrs:{type:"flex",align:"middle"}},[i("Col",{attrs:{span:"21"}},[i("Input",{attrs:{disabled:""},model:{value:t.targetSrsName,callback:function(s){t.targetSrsName=s},expression:"targetSrsName"}})],1),t._v(" "),i("Col",{staticStyle:{"text-align":"right"},attrs:{span:"3"}},[i("span",{staticClass:"content-text-default span-split",on:{click:function(s){return s.stopPropagation(),t.showSrsDialog(2)}}},[t._v("选择")])])],1)],1)],1),t._v(" "),i("p",{staticClass:"row-item-split"},[t._v("字段列表")]),t._v(" "),i("FieldsSetting",{staticClass:"row-item-split",attrs:{fields:t.selfFields},on:{"fields-change":t.handleFieldsChange}}),t._v(" "),i("Row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",justify:"end"}},[i("Col",{staticStyle:{"text-align":"right"},attrs:{span:"24"}},[i("Button",{staticStyle:{"margin-right":"20px",width:"60px"},on:{click:function(s){return s.stopPropagation(),t.handleViewClick.apply(null,arguments)}}},[t._v("预览")]),t._v(" "),i("Button",{staticStyle:{"margin-right":"20px",width:"60px"},on:{click:function(s){return s.stopPropagation(),t.handleClose.apply(null,arguments)}}},[t._v("取消")]),t._v(" "),i("Button",{staticStyle:{width:"60px"},attrs:{type:"primary"},on:{click:function(s){return s.stopPropagation(),t.handleOk.apply(null,arguments)}}},[t._v("确定")])],1)],1)],1)]),t._v(" "),i("SrsDialog",{ref:"srsDialog",on:{"on-select":t.handleSrsSelect}}),t._v(" "),i("PreviewDataDialog",{ref:"preData"})],1)},staticRenderFns:[]};var k=i("C7Lr")(w,C,!1,function(t){i("ApMy")},"data-v-9eb1877c",null).exports,N={components:{Dialog:e.a,SrsDialog:_.a},data:function(){return{current:0,code:d.d,selfSourceSrs:null,selfTargetSrs:null,charsets:d.I,title:"全局设置",visible:!1}},computed:{sourceSrsName:function(){return this.selfSourceSrs&&this.selfSourceSrs.name?this.selfSourceSrs.name:"无"},targetSrsName:function(){return this.selfTargetSrs&&this.selfTargetSrs.name?this.selfTargetSrs.name:"无"}},watch:{sourceSrid:function(t){this.querySrsById(t)}},methods:{handleClose:function(){this.clear(),this.visible=!1},clear:function(){this.code=d.d,this.selfTargetSrs=null,this.selfSourceSrs=null,this.current=0},show:function(t){this.clear();var s=t=t||{},i=s.sourceSrs,e=void 0===i?null:i,a=s.targetSrs,n=void 0===a?null:a,r=s.code,h=void 0===r?d.d:r;this.code=h,this.selfSourceSrs=e,this.selfTargetSrs=n,this.visible=!0},showSrsDialog:function(t){this.current=t,this.$refs.srsDialog.show()},handleSrsSelect:function(t){1==this.current?this.selfSourceSrs=u()({},t):this.selfTargetSrs=u()({},t)},handleOK:function(){var t={code:this.code,sourceSrs:null,targetSrs:null};this.selfSourceSrs&&(t.sourceSrs=u()({},this.selfSourceSrs)),this.selfTargetSrs&&(t.targetSrs=u()({},this.selfTargetSrs)),this.$emit("global-setting",t),this.handleClose()}}},I={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("Dialog",{attrs:{isShowBottomBtn:!1,title:t.title,visible:t.visible,showStep:!1,styles:{top:"20vh",width:"500px"}},on:{cus_cancel:t.handleClose}},[i("Row",{staticClass:"row-item",attrs:{type:"flex",align:"middle"}},[i("Col",{attrs:{span:"4"}},[t._v("文件编码")]),t._v(" "),i("Col",{attrs:{span:"20"}},[i("Select",{attrs:{transfer:!0},model:{value:t.code,callback:function(s){t.code=s},expression:"code"}},t._l(t.charsets,function(s){return i("Option",{key:s.value,attrs:{value:s.value}},[t._v(t._s(s.label))])}),1)],1)],1),t._v(" "),i("Row",{staticClass:"row-item",attrs:{type:"flex",align:"middle"}},[i("Col",{attrs:{span:"4"}},[t._v("原始坐标系")]),t._v(" "),i("Col",{attrs:{span:"18"}},[i("Input",{attrs:{disabled:""},model:{value:t.sourceSrsName,callback:function(s){t.sourceSrsName=s},expression:"sourceSrsName"}})],1),t._v(" "),i("Col",{staticStyle:{"text-align":"right"},attrs:{span:"2"}},[i("span",{staticClass:"content-text-default span-split",on:{click:function(s){return s.stopPropagation(),t.showSrsDialog(1)}}},[t._v("选择")])])],1),t._v(" "),i("Row",{staticClass:"row-item",attrs:{type:"flex",align:"middle"}},[i("Col",{attrs:{span:"4"}},[t._v("目标坐标系")]),t._v(" "),i("Col",{attrs:{span:"18"}},[i("Input",{attrs:{disabled:""},model:{value:t.targetSrsName,callback:function(s){t.targetSrsName=s},expression:"targetSrsName"}})],1),t._v(" "),i("Col",{staticStyle:{"text-align":"right"},attrs:{span:"2"}},[i("span",{staticClass:"content-text-default span-split",on:{click:function(s){return s.stopPropagation(),t.showSrsDialog(2)}}},[t._v("选择")])])],1),t._v(" "),i("Row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",justify:"end"}},[i("Col",{staticStyle:{"text-align":"right"},attrs:{span:"24"}},[i("Button",{staticStyle:{"margin-right":"20px",width:"60px"},on:{click:function(s){return s.stopPropagation(),t.handleClose.apply(null,arguments)}}},[t._v("取消")]),t._v(" "),i("Button",{staticStyle:{width:"60px"},attrs:{type:"primary"},on:{click:function(s){return s.stopPropagation(),t.handleOK.apply(null,arguments)}}},[t._v("确定")])],1)],1)],1),t._v(" "),i("SrsDialog",{ref:"srsDialog",on:{"on-select":t.handleSrsSelect}})],1)},staticRenderFns:[]};var A={components:{LayerImportSetting:k,PreviewDataDialog:v,GlobalSettingDialog:i("C7Lr")(N,I,!1,function(t){i("9AOO")},"data-v-345488df",null).exports},data:function(){return{code:d.d,sourceSrs:null,targetSrs:null,columns:[{title:"编号",key:"id",slot:"id",width:70,className:"table-header-text-default"},{title:"图层名",key:"layerName",slot:"layerName",className:"table-header-text-default"},{title:"图元数",key:"count",slot:"count",width:100,className:"table-header-text-default"},{title:"状态",key:"state",slot:"state",width:80,className:"table-header-text-default"},{title:"类型",key:"type",slot:"type",width:70,className:"table-header-text-default"},{title:this.$t("common.table.action")||"操作",slot:"action",align:"left",width:150,className:"table-header-text-default"}],list:[]}},methods:{getDatasetTypeLabel:f.a.getDatasetTypeLabel,handleGlobalSetting:function(){this.$refs.globalSettingDialog.show({code:this.code,sourceSrs:this.sourceSrs,targetSrs:this.targetSrs})},clear:function(){this.code=d.d,this.sourceSrs=null,this.targetSrs=null,this.list=[]},handleGlobalSettingReturn:function(t){this.code=t.code,this.sourceSrs=u()({},t.sourceSrs),this.targetSrs=u()({},t.targetSrs)},show:function(t){var s=this;t=t||[],this.clear(),t.forEach(function(t){s.list.push(u()({},t,{state:0,layerName:t.name}))})},getStateLabel:function(t){return 0==t?"未设置":"已设置"},reUpload:function(){this.$emit("previous",{step:2})},goNext:function(){this.$emit("next",{step:2,layers:[].concat(l()(this.list)),globalConfig:{code:this.code,sourceSrs:this.sourceSrs,targetSrs:this.targetSrs}})},handleSettingClick:function(t){this.$refs.importSetting&&this.$refs.importSetting.show(t)},handleViewClick:function(t){var s=u()({},t);s.encode||(s.encode=this.code),this.$refs.preData&&this.$refs.preData.show(s)},handleLayerChange:function(t){t=t||{};var s=this.findIndexByID(t.id);this.list.splice(s,1,t)},findLayerByID:function(t){return this.list.find(function(s){return s.id==t})},findIndexByID:function(t){return this.list.findIndex(function(s){return s.id==t})}}},P={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("Table",{staticClass:"cus-view",attrs:{border:"",columns:t.columns,data:t.list,height:280},scopedSlots:t._u([{key:"id",fn:function(s){var e=s.row;return[i("div",[t._v(t._s(e.id))])]}},{key:"layerName",fn:function(s){var e=s.row;return[i("div",{staticClass:"label-ellipsis",attrs:{title:e.layerName}},[t._v("\n        "+t._s(e.layerName)+"\n      ")])]}},{key:"count",fn:function(s){var e=s.row;return[i("div",[t._v(t._s(e.count))])]}},{key:"type",fn:function(s){var e=s.row;return[i("div",[t._v(t._s(t.getDatasetTypeLabel(e.type)))])]}},{key:"state",fn:function(s){var e=s.row;return[i("div",[t._v(t._s(t.getStateLabel(e.state)))])]}},{key:"action",fn:function(s){var e=s.row;return[i("span",{staticClass:"content-text-default span-split",on:{click:function(s){return t.handleSettingClick(e)}}},[i("i",{staticClass:"iconfont iconguanli-"}),t._v("\n        "+t._s(t.$t("common.button.setting")||"设置")+"\n      ")]),t._v(" "),i("span",{staticClass:"content-text-default span-split",staticStyle:{"margin-left":"10px"},on:{click:function(s){return t.handleViewClick(e)}}},[i("i",{staticClass:"iconfont iconliulan- content-text-default"}),t._v("\n        预览\n      ")])]}}])}),t._v(" "),i("div",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"flex-end",width:"100%","margin-top":"16px"}},[i("Button",{staticStyle:{float:"right","margin-right":"16px"},on:{click:t.handleGlobalSetting}},[t._v("全局设置")]),t._v(" "),i("Button",{staticStyle:{float:"right","margin-right":"16px"},on:{click:t.reUpload}},[t._v("重新上传")]),t._v(" "),i("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.goNext}},[t._v("下 一 步")])],1),t._v(" "),i("GlobalSettingDialog",{ref:"globalSettingDialog",on:{"global-setting":t.handleGlobalSettingReturn}}),t._v(" "),i("PreviewDataDialog",{ref:"preData"}),t._v(" "),i("LayerImportSetting",{ref:"importSetting",on:{"layer-change":t.handleLayerChange}})],1)},staticRenderFns:[]};var E=i("C7Lr")(A,P,!1,function(t){i("Eo19")},"data-v-d20123bc",null).exports,L={components:{LayerImportSetting:k},data:function(){return{columns:[{title:"编号",key:"id",width:60,className:"table-header-text-default"},{title:"图层名",key:"layerName",slot:"layerName",className:"table-header-text-default"},{title:"日志",key:"err",slot:"err",className:"table-header-text-default"},{title:"状态",key:"state",slot:"state",width:80,className:"table-header-text-default"},{title:this.$t("common.table.action")||"操作",slot:"action",width:100,className:"table-header-text-default"}],isCreateTaskIng:!1,totalImportProcess:0,totalImport:0,importSuccess:0,importFail:0,failLayers:[],totalLayers:[],selfGlobalConfig:null,tastIds:[]}},methods:{goNext:function(){this.$emit("next",{step:3,ids:this.tastIds})},handleSettingClick:function(t){this.$refs.layerImportSetting&&this.$refs.layerImportSetting.show(t)},handleLayerChange:function(t){t=t||{};var s=this.findIndexByID(t.id);this.failLayers.splice(s,1,t)},findIndexByID:function(t){return this.failLayers.findIndex(function(s){return s.id==t})},clear:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isCreateTaskIng=!1,this.totalImportProcess=0,this.totalImport=0,this.importSuccess=0,this.importFail=0,this.failLayers=[],this.totalLayers=[],this.selfGlobalConfig=null,t&&(this.tastIds=[])},show:function(t,s){this.clear(),t=t||[],s=s||{},this.totalLayers=[].concat(l()(t)),this.selfGlobalConfig=u()({},s),this.totalLayers.length>0?this.createAllTask(this.totalLayers):Object(a.a)("无导入图层"),this.visible=!0},handleReImport:function(){if(this.isCreateTaskIng)return Object(a.a)(this.$t("message.createImportError")),!1;if(!this.failLayers||0==this.failLayers.length)return!1;var t=[].concat(l()(this.failLayers));this.clear(!1),t&&t.length>0&&this.createAllTask(t)},createAllTask:function(t){var s=this;if(this.isCreateTaskIng)return!1;if(this.isCreateTaskIng=!0,!t||0==t.length)return!1;var i=0,e=t.length;this.totalImport=e;var a=function a(r){s.$bus.$emit(d.k.DATA_STATISTICS),s.importSuccess++,s.totalImportProcess=Math.round((i+1)/e*100),i+1<e?(i++,s.creatSingleTask(t[i],a,n)):(s.isCreateTaskIng=!1,e>0&&s.importSuccess==e&&s.goNext())},n=function n(r,h){if(s.importFail++,s.totalImportProcess=Math.round((i+1)/e*100),s.failLayers||(s.failLayers=[]),h){var o=t.find(function(t){return t.id==h.id});o?s.failLayers.push(u()({},o,{err:r})):console.log("error")}i+1<e?(i++,s.creatSingleTask(t[i],a,n)):s.isCreateTaskIng=!1};this.creatSingleTask(t[i],a,n)},queryLayerMetaData:function(t,s,i,e){var a={id:t.id,params:{name:t.name,path:t.path,encode:s},success:i,error:e};this.$http.getLayerMetaData(a)},creatSingleTask:function(t,s,i){var e=this,a=this.selfGlobalConfig,n=a&&a.code?a.code:d.d;if(0==t.state){this.queryLayerMetaData(t,n,function(a){var r=a||{},h=r.srs,o=void 0===h?{}:h,l=r.fields,c=void 0===l?[]:l,f=!(!o||!o.name);c.forEach(function(t){t.checked=!0,t.sourceName=t.name});var d=u()({},t,{fields:c,encode:n,isSourceSrs:f,sourceSrs:o,targetSrs:null,state:1});e.createLayerTask(d,s,i)},function(s){i(s,t)})}else this.createLayerTask(t,s,i)},createLayerTask:function(t,s,i){var e,a=this,n=this.selfGlobalConfig||{},r=n.sourceSrs,h=void 0===r?null:r,o=n.targetSrs,l=void 0===o?null:o,c=t.sourceSrs,u=t.targetSrs,f=null;f=t.isSourceSrs?c:c||(h||null),e=u||(l||null);var p=[];(t.fields||[]).forEach(function(t){t.checked&&p.push({name:t.name,source_name:t.sourceName,type:t.type,width:t.width,is_null:t.is_null,precision:t.precision})});var m={params:{type:d.E.IMPORT_VECTOR_TASK,file:{name:t.name,path:t.path,encode:t.encode},layer_name:t.layerName,layer_type:t.type,fields:p,srs:{source_srid:f?f.srid:null,target_srid:e?e.srid:null}},success:function(i){a.tastIds.push(i),s(t)},error:function(s){i(s,t)}};this.$http.createImportTask(m)},getStateLabel:function(t){return 0==t?"未设置":"已设置"}}},O={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("div",{staticClass:"t-s-container"},[i("div",[i("p",[t._v("任务进度")]),t._v(" "),i("p",[t._v(t._s(t.totalImportProcess)+"%")])]),t._v(" "),i("div",[i("p",[t._v("总计")]),t._v(" "),i("p",{staticClass:"state-total"},[t._v(t._s(t.totalImport))])]),t._v(" "),i("div",[i("p",[t._v("成功")]),t._v(" "),i("p",{staticClass:"state-success"},[t._v(t._s(t.importSuccess))])]),t._v(" "),i("div",[i("p",[t._v("失败")]),t._v(" "),i("p",{staticClass:"state-fail"},[t._v(t._s(t.importFail))])])]),t._v(" "),i("Table",{staticClass:"cus-view",staticStyle:{"margin-top":"20px"},attrs:{border:"",columns:t.columns,data:t.failLayers,height:200},scopedSlots:t._u([{key:"layerName",fn:function(s){var e=s.row;return[i("div",{staticClass:"label-ellipsis",attrs:{title:e.layerName}},[t._v(t._s(e.layerName))])]}},{key:"err",fn:function(s){var e=s.row;return[i("div",{staticClass:"label-ellipsis",attrs:{title:e.err}},[t._v(t._s(e.err))])]}},{key:"state",fn:function(s){var e=s.row;return[i("div",[t._v(t._s(t.getStateLabel(e.state)))])]}},{key:"action",fn:function(s){var e=s.row;return[i("span",{staticClass:"content-text-default span-split",on:{click:function(s){return s.stopPropagation(),t.handleSettingClick(e)}}},[i("i",{staticClass:"iconfont iconguanli-"}),t._v("\n        "+t._s(t.$t("common.button.setting")||"设置")+"\n      ")])]}}])}),t._v(" "),i("div",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"flex-end",width:"100%","margin-top":"16px"}},[i("Button",{staticStyle:{float:"right","margin-right":"16px"},on:{click:function(s){return s.stopPropagation(),t.handleReImport.apply(null,arguments)}}},[t._v("重新导入")]),t._v(" "),i("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(s){return s.stopPropagation(),t.goNext.apply(null,arguments)}}},[t._v("下 一 步")])],1),t._v(" "),i("LayerImportSetting",{ref:"layerImportSetting",on:{"layer-change":t.handleLayerChange}})],1)},staticRenderFns:[]};var T=i("C7Lr")(L,O,!1,function(t){i("HrQw")},"data-v-18c68db6",null).exports,R={components:{},data:function(){return{columns:[{title:"编号",key:"id",width:60,className:"table-header-text-default"},{title:"名称",key:"name",slot:"name",width:150,className:"table-header-text-default"},{title:"统计",key:"total_count",slot:"statics",className:"table-header-text-default"},{title:"状态",key:"status",slot:"status",width:80,className:"table-header-text-default"}],list:[],taskIds:[],timer:null,totalImportProcess:0,importSuccess:0,importProgress:0,importNoStart:0}},computed:{},watch:{},methods:{getImportTaskStatusLabel:f.a.getImportTaskStatusLabel,clear:function(){this.list=[],this.taskIds=[],this.clearTimer(),this.totalImportProcess=0,this.importSuccess=0,this.importProgress=0,this.importNoStart=0},clearTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},show:function(t){var s=this;this.clear(),this.taskIds=t;var i=function(){var t={params:{method:"select",data:s.taskIds},success:function(t){t=t||[],s.list=t,s.computeStatics(),100==s.totalImportProcess&&s.clearTimer()},error:function(t){Object(a.a)(t),s.clear()}};s.$http.batchImportTasksByIDs(t),s.$bus.$emit(d.k.DATA_STATISTICS)};i(),this.timer=setInterval(i,3e3)},computeStaticsMsg:function(t){var s=t.total_count,i=t.current_count,e=t.total_count,a=void 0===e?0:e,n=t.success_count,r=void 0===n?0:n,h=t.fail_count;return"总数:"+a+"    成功:"+r+"    失败:"+(void 0===h?0:h)+"    进度:"+(0==t.total_count?100:Math.round(i/s*100))},computeStatics:function(){var t=this;this.totalImportProcess=0,this.importSuccess=0,this.importProgress=0,this.importNoStart=0,this.list=this.list||[];var s=this.list.length;this.list.forEach(function(s){s.status==d.C.STATUS_0?t.importNoStart++:s.status==d.C.STATUS_1?t.importProgress++:s.status==d.C.STATUS_2&&t.importSuccess++}),this.totalImportProcess=s?Math.round(this.importSuccess/s*100):100}}},q={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("div",{staticClass:"task-container"},[i("div",[i("p",[t._v("导入进度")]),t._v(" "),i("p",[t._v(t._s(t.totalImportProcess)+"%")])]),t._v(" "),i("div",[i("p",[t._v("已完成")]),t._v(" "),i("p",{staticClass:"task-status-success"},[t._v(t._s(t.importSuccess))])]),t._v(" "),i("div",[i("p",[t._v("处理中")]),t._v(" "),i("p",{staticClass:"task-status-progress"},[t._v(t._s(t.importProgress))])]),t._v(" "),i("div",[i("p",[t._v("未开始")]),t._v(" "),i("p",{staticClass:"task-status-no-start"},[t._v(t._s(t.importNoStart))])])]),t._v(" "),i("Table",{staticClass:"cus-view",staticStyle:{"margin-top":"20px"},attrs:{border:"",columns:t.columns,data:t.list,height:280},scopedSlots:t._u([{key:"name",fn:function(s){var e=s.row;return[i("div",{staticClass:"label-ellipsis",attrs:{title:e.name}},[t._v(t._s(e.name))])]}},{key:"status",fn:function(s){var e=s.row;return[i("div",[t._v(t._s(t.getImportTaskStatusLabel(e.status)))])]}},{key:"statics",fn:function(s){var e=s.row;return[i("div",[t._v(t._s(t.computeStaticsMsg(e))+"%")])]}}])})],1)},staticRenderFns:[]};var z=i("C7Lr")(R,q,!1,function(t){i("ug44")},"data-v-ab6d9a1a",null).exports,B={components:{Dialog:e.a,FirstStep:h,SecondStep:E,ThirdStep:T,FourStep:z},data:function(){return{visible:!1,total:4,curStep:1,titles:["选择文件","图层设置","创建任务","数据入库"]}},computed:{title:function(){return this.titles?this.titles[this.curStep-1]:""}},methods:{show:function(){this.visible=!0,this.$refs.firstStep&&this.$refs.firstStep.clear(),this.curStep=1},handleClose:function(){if(3==this.curStep){if(this.$refs.thirdStep.isCreateTaskIng)return Object(a.a)("任务正在创建中,无法关闭"),!1}else 4==this.curStep&&(this.$refs.fourStep&&this.$refs.fourStep.clear(),this.$emit("refrsh"));this.visible=!1},nextStep:function(t){if(1==t.step){var s=t.layers;s&&s.length>0&&(this.$refs.secondStep&&this.$refs.secondStep.show(s),this.curStep++)}else if(2==t.step){var i=t.layers,e=void 0===i?[]:i,a=t.globalConfig,n=void 0===a?{}:a;this.$refs.thirdStep&&this.$refs.thirdStep.show(e,n),this.curStep++}else if(3==t.step){var r=t.ids,h=void 0===r?[]:r;this.$refs.fourStep&&this.$refs.fourStep.show(h),this.curStep++}},previousStep:function(t){2==t.step&&(this.$refs.firstStep&&this.$refs.firstStep.clear(),this.curStep--)}}},j={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("Dialog",{attrs:{isShowBottomBtn:!1,title:t.title,visible:t.visible,showStep:!0,total:t.total,num:t.curStep,styles:{top:"20vh",width:"700px"}},on:{cus_cancel:t.handleClose}},[i("FirstStep",{directives:[{name:"show",rawName:"v-show",value:1===t.curStep,expression:"curStep === 1"}],ref:"firstStep",on:{next:t.nextStep}}),t._v(" "),i("SecondStep",{directives:[{name:"show",rawName:"v-show",value:2===t.curStep,expression:"curStep === 2"}],ref:"secondStep",on:{next:t.nextStep,previous:t.previousStep}}),t._v(" "),i("ThirdStep",{directives:[{name:"show",rawName:"v-show",value:3===t.curStep,expression:"curStep === 3"}],ref:"thirdStep",on:{next:t.nextStep}}),t._v(" "),i("FourStep",{directives:[{name:"show",rawName:"v-show",value:4===t.curStep,expression:"curStep === 4"}],ref:"fourStep"})],1)},staticRenderFns:[]};var D=i("C7Lr")(B,j,!1,function(t){i("gDW3")},"data-v-68ee7fa2",null);s.a=D.exports},FT7i:function(t,s){},G9FL:function(t,s,i){"use strict";var e=i("2ECT"),a=i("ZwTi"),n=i("36zb"),r={};i("Q2fR")(r,i("LYr1")("iterator"),function(){return this}),t.exports=function(t,s,i){t.prototype=e(r,{next:a(1,i)}),n(t,s+" Iterator")}},GD6k:function(t,s,i){var e=i("FIRb"),a=i("7NgR"),n=i("Lzmh");t.exports=i("5cPm")?Object.defineProperties:function(t,s){a(t);for(var i,r=n(s),h=r.length,o=0;h>o;)e.f(t,i=r[o++],s[i]);return t}},GI8K:function(t,s,i){var e=i("3m3I"),a=i("LYr1")("toStringTag"),n="Arguments"==e(function(){return arguments}());t.exports=function(t){var s,i,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,s){try{return t[s]}catch(t){}}(s=Object(t),a))?i:n?e(s):"Object"==(r=e(s))&&"function"==typeof s.callee?"Arguments":r}},HrQw:function(t,s){},HzJ8:function(t,s,i){t.exports={default:i("vY6q"),__esModule:!0}},IHPB:function(t,s,i){"use strict";s.__esModule=!0;var e,a=i("kfHR"),n=(e=a)&&e.__esModule?e:{default:e};s.default=function(t){if(Array.isArray(t)){for(var s=0,i=Array(t.length);s<t.length;s++)i[s]=t[s];return i}return(0,n.default)(t)}},Izdj:function(t,s,i){"use strict";s.a={data:function(){return{totalHeight:0}},mounted:function(){var t=this;this.$nextTick(function(){t.getTotalSize(),window.onresize=function(){t.getTotalSize()}})},methods:{getTotalSize:function(){this.totalHeight=""+document.documentElement.clientHeight,this.totalHeight*=1},offResize:function(){window.onresize=null,this.totalHeight=0},onResize:function(){var t=this;this.getTotalSize(),window.onresize||(window.onresize=function(){t.getTotalSize()})}},computed:{},destroyed:function(){this.offResize()}}},KYMQ:function(t,s,i){i("g5OY"),i("2ZiF"),t.exports=i("DH3n").Array.from},LLO6:function(t,s){},LYr1:function(t,s,i){var e=i("0yH0")("wks"),a=i("dY0r"),n=i("kqDl").Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:a)("Symbol."+t))}).store=e},QoE5:function(t,s,i){t.exports=i("Q2fR")},Rckn:function(t,s,i){var e=i("ypNa"),a=i("PGvq"),n=i("eB8C")("IE_PROTO"),r=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=a(t),e(t,n)?t[n]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?r:null}},SKL3:function(t,s){t.exports=function(){}},TPXC:function(t,s,i){"use strict";var e=i("RuWt"),a={props:{total:{type:Number,default:0},transfer:{type:Boolean,default:!1},current:{type:Number,default:1},pageSize:{type:Number,default:e.y}},data:function(){return{pageSizeOpts:e.z,selfPageSize:this.pageSize,selfCurrent:this.current}},watch:{pageSize:function(t){this.selfPageSize=t},current:function(t){this.selfCurrent=t}},methods:{handleChangePage:function(){this.$emit("on-change",this.selfCurrent)},handlePageSizeChange:function(){this.$emit("on-page-size-change",this.selfPageSize)}}},n={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"cus-view cs-pg-containter"},[i("Select",{staticStyle:{width:"90px"},on:{"on-change":t.handlePageSizeChange},model:{value:t.selfPageSize,callback:function(s){t.selfPageSize=s},expression:"selfPageSize"}},t._l(t.pageSizeOpts,function(s,e){return i("Option",{key:e,attrs:{value:s.value}},[t._v(t._s(s.label))])}),1),t._v(" "),i("Page",{staticStyle:{display:"inline-block"},attrs:{simple:"",transfer:t.transfer,current:t.selfCurrent,"page-size":t.selfPageSize,total:t.total},on:{"update:current":function(s){t.selfCurrent=s},"update:pageSize":function(s){t.selfPageSize=s},"update:page-size":function(s){t.selfPageSize=s},"on-change":t.handleChangePage}}),t._v(" "),i("p",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[t._v("共 "+t._s(t.total)+" 条")])],1)},staticRenderFns:[]};var r=i("C7Lr")(a,n,!1,function(t){i("0Ms4")},"data-v-e6d8c416",null);s.a=r.exports},V88E:function(t,s,i){var e=i("7NgR");t.exports=function(t,s,i,a){try{return a?s(e(i)[0],i[1]):s(i)}catch(s){var n=t.return;throw void 0!==n&&e(n.call(t)),s}}},"XO/m":function(t,s,i){var e=i("7NgR"),a=i("/tnA");t.exports=i("DH3n").getIterator=function(t){var s=a(t);if("function"!=typeof s)throw TypeError(t+" is not iterable!");return e(s.call(t))}},"bJ/5":function(t,s,i){"use strict";var e=i("FIRb"),a=i("ZwTi");t.exports=function(t,s,i){s in t?e.f(t,s,a(0,i)):t[s]=i}},bYIx:function(t,s,i){"use strict";var e=1,a=2,n=3,r=4,h=5,o=484813681109536e-20,l=Math.PI/2,c=.16666666666666666,u=.04722222222222222,f=.022156084656084655,d=1e-10,p=.017453292519943295,m=57.29577951308232,M=Math.PI/4,g=2*Math.PI,v=3.14159265359,y={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},_={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},x=/[\s_\-\/\(\)]/g;function b(t,s){if(t[s])return t[s];for(var i,e=Object.keys(t),a=s.toLowerCase().replace(x,""),n=-1;++n<e.length;)if((i=e[n]).toLowerCase().replace(x,"")===a)return t[i]}var S=function(t){var s,i,e,a={},n=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,s){var i=s.split("=");return i.push(!0),t[i[0].toLowerCase()]=i[1],t},{}),r={proj:"projName",datum:"datumCode",rf:function(t){a.rf=parseFloat(t)},lat_0:function(t){a.lat0=t*p},lat_1:function(t){a.lat1=t*p},lat_2:function(t){a.lat2=t*p},lat_ts:function(t){a.lat_ts=t*p},lon_0:function(t){a.long0=t*p},lon_1:function(t){a.long1=t*p},lon_2:function(t){a.long2=t*p},alpha:function(t){a.alpha=parseFloat(t)*p},gamma:function(t){a.rectified_grid_angle=parseFloat(t)},lonc:function(t){a.longc=t*p},x_0:function(t){a.x0=parseFloat(t)},y_0:function(t){a.y0=parseFloat(t)},k_0:function(t){a.k0=parseFloat(t)},k:function(t){a.k0=parseFloat(t)},a:function(t){a.a=parseFloat(t)},b:function(t){a.b=parseFloat(t)},r_a:function(){a.R_A=!0},zone:function(t){a.zone=parseInt(t,10)},south:function(){a.utmSouth=!0},towgs84:function(t){a.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){a.to_meter=parseFloat(t)},units:function(t){a.units=t;var s=b(_,t);s&&(a.to_meter=s.to_meter)},from_greenwich:function(t){a.from_greenwich=t*p},pm:function(t){var s=b(y,t);a.from_greenwich=(s||parseFloat(t))*p},nadgrids:function(t){"@null"===t?a.datumCode="none":a.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(a.axis=t)},approx:function(){a.approx=!0}};for(s in n)i=n[s],s in r?"function"==typeof(e=r[s])?e(i):a[e]=i:a[s]=i;return"string"==typeof a.datumCode&&"WGS84"!==a.datumCode&&(a.datumCode=a.datumCode.toLowerCase()),a},w=function(t){return new E(t).output()},C=1,k=/\s/,N=/[A-Za-z]/,I=/[A-Za-z84_]/,A=/[,\]]/,P=/[\d\.E\-\+]/;function E(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=C}function L(t,s,i){Array.isArray(s)&&(i.unshift(s),s=null);var e=s?{}:t,a=i.reduce(function(t,s){return O(s,t),t},e);s&&(t[s]=a)}function O(t,s){if(Array.isArray(t)){var i=t.shift();if("PARAMETER"===i&&(i=t.shift()),1===t.length)return Array.isArray(t[0])?(s[i]={},void O(t[0],s[i])):void(s[i]=t[0]);if(t.length)if("TOWGS84"!==i){if("AXIS"===i)return i in s||(s[i]=[]),void s[i].push(t);var e;switch(Array.isArray(i)||(s[i]={}),i){case"UNIT":case"PRIMEM":case"VERT_DATUM":return s[i]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&O(t[2],s[i]));case"SPHEROID":case"ELLIPSOID":return s[i]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&O(t[3],s[i]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void L(s,i,t);default:for(e=-1;++e<t.length;)if(!Array.isArray(t[e]))return O(t,s[i]);return L(s,i,t)}}else s[i]=t;else s[i]=!0}else s[t]=!0}E.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;k.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case C:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},E.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(A.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},E.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=C)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=C,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},E.prototype.number=function(t){if(!P.test(t)){if(A.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},E.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},E.prototype.keyword=function(t){if(I.test(t))this.word+=t;else{if("["===t){var s=[];return s.push(this.word),this.level++,null===this.root?this.root=s:this.currentObject.push(s),this.stack.push(this.currentObject),this.currentObject=s,void(this.state=C)}if(!A.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},E.prototype.neutral=function(t){if(N.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(P.test(t))return this.word=t,void(this.state=3);if(!A.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},E.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var T=.017453292519943295;function R(t){return t*T}var q=function(t){var s=w(t),i=s.shift(),e=s.shift();s.unshift(["name",e]),s.unshift(["type",i]);var a={};return O(s,a),function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var s="",i=0,e=t.AXIS.length;i<e;++i){var a=[t.AXIS[i][0].toLowerCase(),t.AXIS[i][1].toLowerCase()];-1!==a[0].indexOf("north")||("y"===a[0]||"lat"===a[0])&&"north"===a[1]?s+="n":-1!==a[0].indexOf("south")||("y"===a[0]||"lat"===a[0])&&"south"===a[1]?s+="s":-1!==a[0].indexOf("east")||("x"===a[0]||"lon"===a[0])&&"east"===a[1]?s+="e":-1===a[0].indexOf("west")&&("x"!==a[0]&&"lon"!==a[0]||"west"!==a[1])||(s+="w")}2===s.length&&(s+="u"),3===s.length&&(t.axis=s)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var n=t.GEOGCS;function r(s){return s*(t.to_meter||1)}"GEOGCS"===t.type&&(n=t),n&&(n.DATUM?t.datumCode=n.DATUM.name.toLowerCase():t.datumCode=n.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(t.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=n.DATUM.SPHEROID.a,t.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),n.DATUM&&n.DATUM.TOWGS84&&(t.datum_params=n.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",R],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",R],["x0","false_easting",r],["y0","false_northing",r],["long0","central_meridian",R],["lat0","latitude_of_origin",R],["lat0","standard_parallel_1",R],["lat1","standard_parallel_1",R],["lat2","standard_parallel_2",R],["azimuth","Azimuth"],["alpha","azimuth",R],["srsCode","name"]].forEach(function(s){return i=t,a=(e=s)[0],n=e[1],void(!(a in i)&&n in i&&(i[a]=i[n],3===e.length&&(i[a]=e[2](i[a]))));var i,e,a,n}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=R(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(a),a};function z(t){var s=this;if(2===arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?z[t]=S(arguments[1]):z[t]=q(arguments[1]):z[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?z.apply(s,t):z(t)});if("string"==typeof t){if(t in z)return z[t]}else"EPSG"in t?z["EPSG:"+t.EPSG]=t:"ESRI"in t?z["ESRI:"+t.ESRI]=t:"IAU2000"in t?z["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(z);var B=z;var j=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var D=["3857","900913","3785","102113"];var G=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in B}(t))return B[t];if(function(t){return j.some(function(s){return t.indexOf(s)>-1})}(t)){var s=q(t);if(function(t){var s=b(t,"authority");if(s){var i=b(s,"epsg");return i&&D.indexOf(i)>-1}}(s))return B["EPSG:3857"];var i=function(t){var s=b(t,"extension");if(s)return b(s,"proj4")}(s);return i?S(i):s}return function(t){return"+"===t[0]}(t)?S(t):void 0},F=function(t,s){var i,e;if(t=t||{},!s)return t;for(e in s)void 0!==(i=s[e])&&(t[e]=i);return t},$=function(t,s,i){var e=t*s;return i/Math.sqrt(1-e*e)},U=function(t){return t<0?-1:1},H=function(t){return Math.abs(t)<=v?t:t-U(t)*g},Q=function(t,s,i){var e=t*i,a=.5*t;return e=Math.pow((1-e)/(1+e),a),Math.tan(.5*(l-s))/e},W=function(t,s){for(var i,e,a=.5*t,n=l-2*Math.atan(s),r=0;r<=15;r++)if(i=t*Math.sin(n),n+=e=l-2*Math.atan(s*Math.pow((1-i)/(1+i),a))-n,Math.abs(e)<=1e-10)return n;return-9999};function V(t){return t}var K=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=$(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var s,i,e=t.x,a=t.y;if(a*m>90&&a*m<-90&&e*m>180&&e*m<-180)return null;if(Math.abs(Math.abs(a)-l)<=d)return null;if(this.sphere)s=this.x0+this.a*this.k0*H(e-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(M+.5*a));else{var n=Math.sin(a),r=Q(this.e,a,n);s=this.x0+this.a*this.k0*H(e-this.long0),i=this.y0-this.a*this.k0*Math.log(r)}return t.x=s,t.y=i,t},inverse:function(t){var s,i,e=t.x-this.x0,a=t.y-this.y0;if(this.sphere)i=l-2*Math.atan(Math.exp(-a/(this.a*this.k0)));else{var n=Math.exp(-a/(this.a*this.k0));if(-9999===(i=W(this.e,n)))return null}return s=H(this.long0+e/(this.a*this.k0)),t.x=s,t.y=i,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:V,inverse:V,names:["longlat","identity"]}],X={},J=[];function Y(t,s){var i=J.length;return t.names?(J[i]=t,t.names.forEach(function(t){X[t.toLowerCase()]=i}),this):(console.log(s),!0)}var Z={start:function(){K.forEach(Y)},add:Y,get:function(t){if(!t)return!1;var s=t.toLowerCase();return void 0!==X[s]&&J[X[s]]?J[X[s]]:void 0}},tt={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},st=tt.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};tt.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var it={};it.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},it.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},it.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},it.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},it.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},it.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},it.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},it.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},it.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},it.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},it.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},it.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},it.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},it.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},it.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},it.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},it.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var et=function(t,s,i,l,c,u,f){var d={};return d.datum_type=void 0===t||"none"===t?h:r,s&&(d.datum_params=s.map(parseFloat),0===d.datum_params[0]&&0===d.datum_params[1]&&0===d.datum_params[2]||(d.datum_type=e),d.datum_params.length>3&&(0===d.datum_params[3]&&0===d.datum_params[4]&&0===d.datum_params[5]&&0===d.datum_params[6]||(d.datum_type=a,d.datum_params[3]*=o,d.datum_params[4]*=o,d.datum_params[5]*=o,d.datum_params[6]=d.datum_params[6]/1e6+1))),f&&(d.datum_type=n,d.grids=f),d.a=i,d.b=l,d.es=c,d.ep2=u,d},at={};function nt(t){if(0===t.length)return null;var s="@"===t[0];return s&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!s,grid:null,isNull:!0}:{name:t,mandatory:!s,grid:at[t]||null,isNull:!1}}function rt(t){return t/3600*Math.PI/180}function ht(t,s,i){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(s,i)))}function ot(t){return t.map(function(t){return[rt(t.longitudeShift),rt(t.latitudeShift)]})}function lt(t,s,i){return{name:ht(t,s+8,s+16).trim(),parent:ht(t,s+24,s+24+8).trim(),lowerLatitude:t.getFloat64(s+72,i),upperLatitude:t.getFloat64(s+88,i),lowerLongitude:t.getFloat64(s+104,i),upperLongitude:t.getFloat64(s+120,i),latitudeInterval:t.getFloat64(s+136,i),longitudeInterval:t.getFloat64(s+152,i),gridNodeCount:t.getInt32(s+168,i)}}function ct(t,s,i,e){for(var a=s+176,n=[],r=0;r<i.gridNodeCount;r++){var h={latitudeShift:t.getFloat32(a+16*r,e),longitudeShift:t.getFloat32(a+16*r+4,e),latitudeAccuracy:t.getFloat32(a+16*r+8,e),longitudeAccuracy:t.getFloat32(a+16*r+12,e)};n.push(h)}return n}function ut(t,s){if(!(this instanceof ut))return new ut(t);s=s||function(t){if(t)throw t};var i=G(t);if("object"==typeof i){var e=ut.projections.get(i.projName);if(e){if(i.datumCode&&"none"!==i.datumCode){var a=b(it,i.datumCode);a&&(i.datum_params=i.datum_params||(a.towgs84?a.towgs84.split(","):null),i.ellps=a.ellipse,i.datumName=a.datumName?a.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84",i.lat1=i.lat1||i.lat0;var n,r,h,o,l,p,m,M=function(t,s,i,e,a){if(!t){var n=b(tt,e);n||(n=st),t=n.a,s=n.b,i=n.rf}return i&&!s&&(s=(1-1/i)*t),(0===i||Math.abs(t-s)<d)&&(a=!0,s=t),{a:t,b:s,rf:i,sphere:a}}(i.a,i.b,i.rf,i.ellps,i.sphere),g=(n=M.a,r=M.b,M.rf,h=i.R_A,p=((o=n*n)-(l=r*r))/o,m=0,h?(o=(n*=1-p*(c+p*(u+p*f)))*n,p=0):m=Math.sqrt(p),{es:p,e:m,ep2:(o-l)/l}),v=function(t){return void 0===t?null:t.split(",").map(nt)}(i.nadgrids),y=i.datum||et(i.datumCode,i.datum_params,M.a,M.b,g.es,g.ep2,v);F(this,i),F(this,e),this.a=M.a,this.b=M.b,this.rf=M.rf,this.sphere=M.sphere,this.es=g.es,this.e=g.e,this.ep2=g.ep2,this.datum=y,this.init(),s(null,this)}else s(t)}else s(t)}ut.projections=Z,ut.projections.start();var ft=ut;function dt(t,s,i){var e,a,n,r,h=t.x,o=t.y,c=t.z?t.z:0;if(o<-l&&o>-1.001*l)o=-l;else if(o>l&&o<1.001*l)o=l;else{if(o<-l)return{x:-1/0,y:-1/0,z:t.z};if(o>l)return{x:1/0,y:1/0,z:t.z}}return h>Math.PI&&(h-=2*Math.PI),a=Math.sin(o),r=Math.cos(o),n=a*a,{x:((e=i/Math.sqrt(1-s*n))+c)*r*Math.cos(h),y:(e+c)*r*Math.sin(h),z:(e*(1-s)+c)*a}}function pt(t,s,i,e){var a,n,r,h,o,c,u,f,d,p,m,M,g,v,y,_=t.x,x=t.y,b=t.z?t.z:0;if(a=Math.sqrt(_*_+x*x),n=Math.sqrt(_*_+x*x+b*b),a/i<1e-12){if(v=0,n/i<1e-12)return l,y=-e,{x:t.x,y:t.y,z:t.z}}else v=Math.atan2(x,_);r=b/n,f=(h=a/n)*(1-s)*(o=1/Math.sqrt(1-s*(2-s)*h*h)),d=r*o,g=0;do{g++,c=s*(u=i/Math.sqrt(1-s*d*d))/(u+(y=a*f+b*d-u*(1-s*d*d))),M=(m=r*(o=1/Math.sqrt(1-c*(2-c)*h*h)))*f-(p=h*(1-c)*o)*d,f=p,d=m}while(M*M>1e-24&&g<30);return{x:v,y:Math.atan(m/Math.abs(p)),z:y}}function mt(t){return t===e||t===a}var Mt=function(t,s,i){if(function(t,s){return t.datum_type===s.datum_type&&!(t.a!==s.a||Math.abs(t.es-s.es)>5e-11)&&(t.datum_type===e?t.datum_params[0]===s.datum_params[0]&&t.datum_params[1]===s.datum_params[1]&&t.datum_params[2]===s.datum_params[2]:t.datum_type!==a||t.datum_params[0]===s.datum_params[0]&&t.datum_params[1]===s.datum_params[1]&&t.datum_params[2]===s.datum_params[2]&&t.datum_params[3]===s.datum_params[3]&&t.datum_params[4]===s.datum_params[4]&&t.datum_params[5]===s.datum_params[5]&&t.datum_params[6]===s.datum_params[6])}(t,s))return i;if(t.datum_type===h||s.datum_type===h)return i;var r=t.a,o=t.es;if(t.datum_type===n){if(0!==gt(t,!1,i))return;r=6378137,o=.0066943799901413165}var l=s.a,c=s.b,u=s.es;if(s.datum_type===n&&(l=6378137,c=6356752.314,u=.0066943799901413165),o===u&&r===l&&!mt(t.datum_type)&&!mt(s.datum_type))return i;if((i=dt(i,o,r),mt(t.datum_type)&&(i=function(t,s,i){if(s===e)return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]};if(s===a){var n=i[0],r=i[1],h=i[2],o=i[3],l=i[4],c=i[5],u=i[6];return{x:u*(t.x-c*t.y+l*t.z)+n,y:u*(c*t.x+t.y-o*t.z)+r,z:u*(-l*t.x+o*t.y+t.z)+h}}}(i,t.datum_type,t.datum_params)),mt(s.datum_type)&&(i=function(t,s,i){if(s===e)return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]};if(s===a){var n=i[0],r=i[1],h=i[2],o=i[3],l=i[4],c=i[5],u=i[6],f=(t.x-n)/u,d=(t.y-r)/u,p=(t.z-h)/u;return{x:f+c*d-l*p,y:-c*f+d+o*p,z:l*f-o*d+p}}}(i,s.datum_type,s.datum_params)),i=pt(i,u,l,c),s.datum_type===n)&&0!==gt(s,!0,i))return;return i};function gt(t,s,i){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;for(var e={x:-i.x,y:i.y},a={x:Number.NaN,y:Number.NaN},n=[],r=0;r<t.grids.length;r++){var h=t.grids[r];if(n.push(h.name),h.isNull){a=e;break}if(h.mandatory,null!==h.grid){var o=h.grid.subgrids[0],l=(Math.abs(o.del[1])+Math.abs(o.del[0]))/1e4,c=o.ll[0]-l,u=o.ll[1]-l,f=o.ll[0]+(o.lim[0]-1)*o.del[0]+l,d=o.ll[1]+(o.lim[1]-1)*o.del[1]+l;if(!(u>e.y||c>e.x||d<e.y||f<e.x||(a=vt(e,s,o),isNaN(a.x))))break}else if(h.mandatory)return console.log("Unable to find mandatory grid '"+h.name+"'"),-1}return isNaN(a.x)?(console.log("Failed to find a grid shift table for location '"+-e.x*m+" "+e.y*m+" tried: '"+n+"'"),-1):(i.x=-a.x,i.y=a.y,0)}function vt(t,s,i){var e={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return e;var a={x:t.x,y:t.y};a.x-=i.ll[0],a.y-=i.ll[1],a.x=H(a.x-Math.PI)+Math.PI;var n=yt(a,i);if(s){if(isNaN(n.x))return e;n.x=a.x-n.x,n.y=a.y-n.y;var r,h,o=9;do{if(h=yt(n,i),isNaN(h.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}r={x:a.x-(h.x+n.x),y:a.y-(h.y+n.y)},n.x+=r.x,n.y+=r.y}while(o--&&Math.abs(r.x)>1e-12&&Math.abs(r.y)>1e-12);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),e;e.x=H(n.x+i.ll[0]),e.y=n.y+i.ll[1]}else isNaN(n.x)||(e.x=t.x+n.x,e.y=t.y+n.y);return e}function yt(t,s){var i,e={x:t.x/s.del[0],y:t.y/s.del[1]},a=Math.floor(e.x),n=Math.floor(e.y),r=e.x-1*a,h=e.y-1*n,o={x:Number.NaN,y:Number.NaN};if(a<0||a>=s.lim[0])return o;if(n<0||n>=s.lim[1])return o;i=n*s.lim[0]+a;var l=s.cvs[i][0],c=s.cvs[i][1];i++;var u=s.cvs[i][0],f=s.cvs[i][1];i+=s.lim[0];var d=s.cvs[i][0],p=s.cvs[i][1];i--;var m=s.cvs[i][0],M=s.cvs[i][1],g=r*h,v=r*(1-h),y=(1-r)*(1-h),_=(1-r)*h;return o.x=y*l+v*u+_*m+g*d,o.y=y*c+v*f+_*M+g*p,o}var _t=function(t,s,i){var e,a,n,r=i.x,h=i.y,o=i.z||0,l={};for(n=0;n<3;n++)if(!s||2!==n||void 0!==i.z)switch(0===n?(e=r,a=-1!=="ew".indexOf(t.axis[n])?"x":"y"):1===n?(e=h,a=-1!=="ns".indexOf(t.axis[n])?"y":"x"):(e=o,a="z"),t.axis[n]){case"e":l[a]=e;break;case"w":l[a]=-e;break;case"n":l[a]=e;break;case"s":l[a]=-e;break;case"u":void 0!==i[a]&&(l.z=e);break;case"d":void 0!==i[a]&&(l.z=-e);break;default:return null}return l},xt=function(t){var s={x:t[0],y:t[1]};return t.length>2&&(s.z=t[2]),t.length>3&&(s.m=t[3]),s},bt=function(t){St(t.x),St(t.y)};function St(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function wt(t,s,i,n){var r;if(Array.isArray(i)&&(i=xt(i)),bt(i),t.datum&&s.datum&&function(t,s){return(t.datum.datum_type===e||t.datum.datum_type===a)&&"WGS84"!==s.datumCode||(s.datum.datum_type===e||s.datum.datum_type===a)&&"WGS84"!==t.datumCode}(t,s)&&(i=wt(t,r=new ft("WGS84"),i,n),t=r),n&&"enu"!==t.axis&&(i=_t(t,!1,i)),"longlat"===t.projName)i={x:i.x*p,y:i.y*p,z:i.z||0};else if(t.to_meter&&(i={x:i.x*t.to_meter,y:i.y*t.to_meter,z:i.z||0}),!(i=t.inverse(i)))return;if(t.from_greenwich&&(i.x+=t.from_greenwich),i=Mt(t.datum,s.datum,i))return s.from_greenwich&&(i={x:i.x-s.from_greenwich,y:i.y,z:i.z||0}),"longlat"===s.projName?i={x:i.x*m,y:i.y*m,z:i.z||0}:(i=s.forward(i),s.to_meter&&(i={x:i.x/s.to_meter,y:i.y/s.to_meter,z:i.z||0})),n&&"enu"!==s.axis?_t(s,!0,i):i}var Ct=ft("WGS84");function kt(t,s,i,e){var a,n,r;return Array.isArray(i)?(a=wt(t,s,i,e)||{x:NaN,y:NaN},i.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==s.name&&"geocent"===s.name?"number"==typeof a.z?[a.x,a.y,a.z].concat(i.splice(3)):[a.x,a.y,i[2]].concat(i.splice(3)):[a.x,a.y].concat(i.splice(2)):[a.x,a.y]):(n=wt(t,s,i,e),2===(r=Object.keys(i)).length?n:(r.forEach(function(e){if(void 0!==t.name&&"geocent"===t.name||void 0!==s.name&&"geocent"===s.name){if("x"===e||"y"===e||"z"===e)return}else if("x"===e||"y"===e)return;n[e]=i[e]}),n))}function Nt(t){return t instanceof ft?t:t.oProj?t.oProj:ft(t)}var It=function(t,s,i){t=Nt(t);var e,a=!1;return void 0===s?(s=t,t=Ct,a=!0):(void 0!==s.x||Array.isArray(s))&&(i=s,s=t,t=Ct,a=!0),s=Nt(s),i?kt(t,s,i):(e={forward:function(i,e){return kt(t,s,i,e)},inverse:function(i,e){return kt(s,t,i,e)}},a&&(e.oProj=s),e)},At=6,Pt="AJSAJS",Et="AFAFAF",Lt=65,Ot=73,Tt=79,Rt=86,qt=90,zt={forward:Bt,inverse:function(t){var s=Ft(Ut(t.toUpperCase()));if(s.lat&&s.lon)return[s.lon,s.lat,s.lon,s.lat];return[s.left,s.bottom,s.right,s.top]},toPoint:jt};function Bt(t,s){return s=s||5,function(t,s){var i="00000"+t.easting,e="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(d=t.easting,p=t.northing,m=t.zoneNumber,M=$t(m),g=Math.floor(d/1e5),v=Math.floor(p/1e5)%20,a=g,n=v,r=M,h=r-1,o=Pt.charCodeAt(h),l=Et.charCodeAt(h),c=o+a-1,u=l+n,f=!1,c>qt&&(c=c-qt+Lt-1,f=!0),(c===Ot||o<Ot&&c>Ot||(c>Ot||o<Ot)&&f)&&c++,(c===Tt||o<Tt&&c>Tt||(c>Tt||o<Tt)&&f)&&++c===Ot&&c++,c>qt&&(c=c-qt+Lt-1),u>Rt?(u=u-Rt+Lt-1,f=!0):f=!1,(u===Ot||l<Ot&&u>Ot||(u>Ot||l<Ot)&&f)&&u++,(u===Tt||l<Tt&&u>Tt||(u>Tt||l<Tt)&&f)&&++u===Ot&&u++,u>Rt&&(u=u-Rt+Lt-1),String.fromCharCode(c)+String.fromCharCode(u))+i.substr(i.length-5,s)+e.substr(e.length-5,s);var a,n,r,h,o,l,c,u,f;var d,p,m,M,g,v}(function(t){var s,i,e,a,n,r,h,o=t.lat,l=t.lon,c=6378137,u=Dt(o),f=Dt(l);h=Math.floor((l+180)/6)+1,180===l&&(h=60);o>=56&&o<64&&l>=3&&l<12&&(h=32);o>=72&&o<84&&(l>=0&&l<9?h=31:l>=9&&l<21?h=33:l>=21&&l<33?h=35:l>=33&&l<42&&(h=37));r=Dt(6*(h-1)-180+3),.006739496752268451,s=c/Math.sqrt(1-.00669438*Math.sin(u)*Math.sin(u)),i=Math.tan(u)*Math.tan(u),e=.006739496752268451*Math.cos(u)*Math.cos(u),a=Math.cos(u)*(f-r),n=c*(.9983242984503243*u-.002514607064228144*Math.sin(2*u)+2639046602129982e-21*Math.sin(4*u)-3.418046101696858e-9*Math.sin(6*u));var d=.9996*s*(a+(1-i+e)*a*a*a/6+(5-18*i+i*i+72*e-.39089081163157013)*a*a*a*a*a/120)+5e5,p=.9996*(n+s*Math.tan(u)*(a*a/2+(5-i+9*e+4*e*e)*a*a*a*a/24+(61-58*i+i*i+600*e-2.2240339282485886)*a*a*a*a*a*a/720));o<0&&(p+=1e7);return{northing:Math.round(p),easting:Math.round(d),zoneNumber:h,zoneLetter:function(t){var s="Z";84>=t&&t>=72?s="X":72>t&&t>=64?s="W":64>t&&t>=56?s="V":56>t&&t>=48?s="U":48>t&&t>=40?s="T":40>t&&t>=32?s="S":32>t&&t>=24?s="R":24>t&&t>=16?s="Q":16>t&&t>=8?s="P":8>t&&t>=0?s="N":0>t&&t>=-8?s="M":-8>t&&t>=-16?s="L":-16>t&&t>=-24?s="K":-24>t&&t>=-32?s="J":-32>t&&t>=-40?s="H":-40>t&&t>=-48?s="G":-48>t&&t>=-56?s="F":-56>t&&t>=-64?s="E":-64>t&&t>=-72?s="D":-72>t&&t>=-80&&(s="C");return s}(o)}}({lat:t[1],lon:t[0]}),s)}function jt(t){var s=Ft(Ut(t.toUpperCase()));return s.lat&&s.lon?[s.lon,s.lat]:[(s.left+s.right)/2,(s.top+s.bottom)/2]}function Dt(t){return t*(Math.PI/180)}function Gt(t){return t/Math.PI*180}function Ft(t){var s=t.northing,i=t.easting,e=t.zoneLetter,a=t.zoneNumber;if(a<0||a>60)return null;var n,r,h,o,l,c,u,f,d=6378137,p=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),m=i-5e5,M=s;e<"N"&&(M-=1e7),c=6*(a-1)-180+3,f=(u=M/.9996/6367449.145945056)+(3*p/2-27*p*p*p/32)*Math.sin(2*u)+(21*p*p/16-55*p*p*p*p/32)*Math.sin(4*u)+151*p*p*p/96*Math.sin(6*u),n=d/Math.sqrt(1-.00669438*Math.sin(f)*Math.sin(f)),r=Math.tan(f)*Math.tan(f),h=.006739496752268451*Math.cos(f)*Math.cos(f),o=.99330562*d/Math.pow(1-.00669438*Math.sin(f)*Math.sin(f),1.5),l=m/(.9996*n);var g=f-n*Math.tan(f)/o*(l*l/2-(5+3*r+10*h-4*h*h-.06065547077041606)*l*l*l*l/24+(61+90*r+298*h+45*r*r-1.6983531815716497-3*h*h)*l*l*l*l*l*l/720);g=Gt(g);var v,y=(l-(1+2*r+h)*l*l*l/6+(5-2*h+28*r-3*h*h+.05391597401814761+24*r*r)*l*l*l*l*l/120)/Math.cos(f);if(y=c+Gt(y),t.accuracy){var _=Ft({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});v={top:_.lat,right:_.lon,bottom:g,left:y}}else v={lat:g,lon:y};return v}function $t(t){var s=t%At;return 0===s&&(s=At),s}function Ut(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var s,i=t.length,e=null,a="",n=0;!/[A-Z]/.test(s=t.charAt(n));){if(n>=2)throw"MGRSPoint bad conversion from: "+t;a+=s,n++}var r=parseInt(a,10);if(0===n||n+3>i)throw"MGRSPoint bad conversion from: "+t;var h=t.charAt(n++);if(h<="A"||"B"===h||"Y"===h||h>="Z"||"I"===h||"O"===h)throw"MGRSPoint zone letter "+h+" not handled: "+t;e=t.substring(n,n+=2);for(var o=$t(r),l=function(t,s){var i=Pt.charCodeAt(s-1),e=1e5,a=!1;for(;i!==t.charCodeAt(0);){if(++i===Ot&&i++,i===Tt&&i++,i>qt){if(a)throw"Bad character: "+t;i=Lt,a=!0}e+=1e5}return e}(e.charAt(0),o),c=function(t,s){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var i=Et.charCodeAt(s-1),e=0,a=!1;for(;i!==t.charCodeAt(0);){if(++i===Ot&&i++,i===Tt&&i++,i>Rt){if(a)throw"Bad character: "+t;i=Lt,a=!0}e+=1e5}return e}(e.charAt(1),o);c<Ht(h);)c+=2e6;var u=i-n;if(u%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,d,p,m=u/2,M=0,g=0;return m>0&&(f=1e5/Math.pow(10,m),d=t.substring(n,n+m),M=parseFloat(d)*f,p=t.substring(n+m),g=parseFloat(p)*f),{easting:M+l,northing:g+c,zoneLetter:h,zoneNumber:r,accuracy:f}}function Ht(t){var s;switch(t){case"C":s=11e5;break;case"D":s=2e6;break;case"E":s=28e5;break;case"F":s=37e5;break;case"G":s=46e5;break;case"H":s=55e5;break;case"J":s=64e5;break;case"K":s=73e5;break;case"L":s=82e5;break;case"M":s=91e5;break;case"N":s=0;break;case"P":s=8e5;break;case"Q":s=17e5;break;case"R":s=26e5;break;case"S":s=35e5;break;case"T":s=44e5;break;case"U":s=53e5;break;case"V":s=62e5;break;case"W":s=7e6;break;case"X":s=79e5;break;default:s=-1}if(s>=0)return s;throw"Invalid zone letter: "+t}function Qt(t,s,i){if(!(this instanceof Qt))return new Qt(t,s,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===s){var e=t.split(",");this.x=parseFloat(e[0],10),this.y=parseFloat(e[1],10),this.z=parseFloat(e[2],10)||0}else this.x=t,this.y=s,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Qt.fromMGRS=function(t){return new Qt(jt(t))},Qt.prototype.toMGRS=function(t){return Bt([this.x,this.y],t)};var Wt=Qt,Vt=.01068115234375,Kt=function(t){var s=[];s[0]=1-t*(.25+t*(.046875+t*(.01953125+t*Vt))),s[1]=t*(.75-t*(.046875+t*(.01953125+t*Vt)));var i=t*t;return s[2]=i*(.46875-t*(.013020833333333334+.007120768229166667*t)),i*=t,s[3]=i*(.3645833333333333-.005696614583333333*t),s[4]=i*t*.3076171875,s},Xt=function(t,s,i,e){return i*=s,s*=s,e[0]*t-i*(e[1]+s*(e[2]+s*(e[3]+s*e[4])))},Jt=function(t,s,i){for(var e=1/(1-s),a=t,n=20;n;--n){var r=Math.sin(a),h=1-s*r*r;if(a-=h=(Xt(a,r,Math.cos(a),i)-t)*(h*Math.sqrt(h))*e,Math.abs(h)<d)return a}return a};var Yt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Kt(this.es),this.ml0=Xt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var s,i,e,a=t.x,n=t.y,r=H(a-this.long0),h=Math.sin(n),o=Math.cos(n);if(this.es){var l=o*r,c=Math.pow(l,2),u=this.ep2*Math.pow(o,2),f=Math.pow(u,2),p=Math.abs(o)>d?Math.tan(n):0,m=Math.pow(p,2),M=Math.pow(m,2);s=1-this.es*Math.pow(h,2),l/=Math.sqrt(s);var g=Xt(n,h,o,this.en);i=this.a*(this.k0*l*(1+c/6*(1-m+u+c/20*(5-18*m+M+14*u-58*m*u+c/42*(61+179*M-M*m-479*m)))))+this.x0,e=this.a*(this.k0*(g-this.ml0+h*r*l/2*(1+c/12*(5-m+9*u+4*f+c/30*(61+M-58*m+270*u-330*m*u+c/56*(1385+543*M-M*m-3111*m))))))+this.y0}else{var v=o*Math.sin(r);if(Math.abs(Math.abs(v)-1)<d)return 93;if(i=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,e=o*Math.cos(r)/Math.sqrt(1-Math.pow(v,2)),(v=Math.abs(e))>=1){if(v-1>d)return 93;e=0}else e=Math.acos(e);n<0&&(e=-e),e=this.a*this.k0*(e-this.lat0)+this.y0}return t.x=i,t.y=e,t},inverse:function(t){var s,i,e,a,n=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);if(this.es)if(s=this.ml0+r/this.k0,i=Jt(s,this.es,this.en),Math.abs(i)<l){var h=Math.sin(i),o=Math.cos(i),c=Math.abs(o)>d?Math.tan(i):0,u=this.ep2*Math.pow(o,2),f=Math.pow(u,2),p=Math.pow(c,2),m=Math.pow(p,2);s=1-this.es*Math.pow(h,2);var M=n*Math.sqrt(s)/this.k0,g=Math.pow(M,2);e=i-(s*=c)*g/(1-this.es)*.5*(1-g/12*(5+3*p-9*u*p+u-4*f-g/30*(61+90*p-252*u*p+45*m+46*u-g/56*(1385+3633*p+4095*m+1574*m*p)))),a=H(this.long0+M*(1-g/6*(1+2*p+u-g/20*(5+28*p+24*m+8*u*p+6*u-g/42*(61+662*p+1320*m+720*m*p))))/o)}else e=l*U(r),a=0;else{var v=Math.exp(n/this.k0),y=.5*(v-1/v),_=this.lat0+r/this.k0,x=Math.cos(_);s=Math.sqrt((1-Math.pow(x,2))/(1+Math.pow(y,2))),e=Math.asin(s),r<0&&(e=-e),a=0===y&&0===x?0:H(Math.atan2(y,x)+this.long0)}return t.x=a,t.y=e,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]},Zt=function(t){var s=Math.exp(t);return s=(s-1/s)/2},ts=function(t,s){t=Math.abs(t),s=Math.abs(s);var i=Math.max(t,s),e=Math.min(t,s)/(i||1);return i*Math.sqrt(1+Math.pow(e,2))},ss=function(t){var s=Math.abs(t);return s=function(t){var s=1+t,i=s-1;return 0===i?t:t*Math.log(s)/i}(s*(1+s/(ts(1,s)+1))),t<0?-s:s},is=function(t,s){for(var i,e=2*Math.cos(2*s),a=t.length-1,n=t[a],r=0;--a>=0;)i=e*n-r+t[a],r=n,n=i;return s+i*Math.sin(2*s)},es=function(t,s){for(var i,e=2*Math.cos(s),a=t.length-1,n=t[a],r=0;--a>=0;)i=e*n-r+t[a],r=n,n=i;return Math.sin(s)*i},as=function(t,s,i){for(var e,a,n=Math.sin(s),r=Math.cos(s),h=Zt(i),o=function(t){var s=Math.exp(t);return s=(s+1/s)/2}(i),l=2*r*o,c=-2*n*h,u=t.length-1,f=t[u],d=0,p=0,m=0;--u>=0;)e=p,a=d,f=l*(p=f)-e-c*(d=m)+t[u],m=c*p-a+l*d;return[(l=n*o)*f-(c=r*h)*m,l*m+c*f]};var ns={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Yt.init.apply(this),this.forward=Yt.forward,this.inverse=Yt.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),s=t/(2-t),i=s;this.cgb[0]=s*(2+s*(-2/3+s*(s*(116/45+s*(26/45+s*(-2854/675)))-2))),this.cbg[0]=s*(s*(2/3+s*(4/3+s*(-82/45+s*(32/45+s*(4642/4725)))))-2),i*=s,this.cgb[1]=i*(7/3+s*(s*(-227/45+s*(2704/315+s*(2323/945)))-1.6)),this.cbg[1]=i*(5/3+s*(-16/15+s*(-13/9+s*(904/315+s*(-1522/945))))),i*=s,this.cgb[2]=i*(56/15+s*(-136/35+s*(-1262/105+s*(73814/2835)))),this.cbg[2]=i*(-26/15+s*(34/21+s*(1.6+s*(-12686/2835)))),i*=s,this.cgb[3]=i*(4279/630+s*(-332/35+s*(-399572/14175))),this.cbg[3]=i*(1237/630+s*(s*(-24832/14175)-2.4)),i*=s,this.cgb[4]=i*(4174/315+s*(-144838/6237)),this.cbg[4]=i*(-734/315+s*(109598/31185)),i*=s,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(s,2),this.Qn=this.k0/(1+s)*(1+i*(.25+i*(1/64+i/256))),this.utg[0]=s*(s*(2/3+s*(-37/96+s*(1/360+s*(81/512+s*(-96199/604800)))))-.5),this.gtu[0]=s*(.5+s*(-2/3+s*(5/16+s*(41/180+s*(-127/288+s*(7891/37800)))))),this.utg[1]=i*(-1/48+s*(-1/15+s*(437/1440+s*(-46/105+s*(1118711/3870720))))),this.gtu[1]=i*(13/48+s*(s*(557/1440+s*(281/630+s*(-1983433/1935360)))-.6)),i*=s,this.utg[2]=i*(-17/480+s*(37/840+s*(209/4480+s*(-5569/90720)))),this.gtu[2]=i*(61/240+s*(-103/140+s*(15061/26880+s*(167603/181440)))),i*=s,this.utg[3]=i*(-4397/161280+s*(11/504+s*(830251/7257600))),this.gtu[3]=i*(49561/161280+s*(-179/168+s*(6601661/7257600))),i*=s,this.utg[4]=i*(-4583/161280+s*(108847/3991680)),this.gtu[4]=i*(34729/80640+s*(-3418889/1995840)),i*=s,this.utg[5]=-.03233083094085698*i,this.gtu[5]=.6650675310896665*i;var e=is(this.cbg,this.lat0);this.Zb=-this.Qn*(e+es(this.gtu,2*e))},forward:function(t){var s=H(t.x-this.long0),i=t.y;i=is(this.cbg,i);var e=Math.sin(i),a=Math.cos(i),n=Math.sin(s),r=Math.cos(s);i=Math.atan2(e,r*a),s=Math.atan2(n*a,ts(e,a*r)),s=ss(Math.tan(s));var h,o,l=as(this.gtu,2*i,2*s);return i+=l[0],s+=l[1],Math.abs(s)<=2.623395162778?(h=this.a*(this.Qn*s)+this.x0,o=this.a*(this.Qn*i+this.Zb)+this.y0):(h=1/0,o=1/0),t.x=h,t.y=o,t},inverse:function(t){var s,i,e=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(a=(a-this.Zb)/this.Qn,e/=this.Qn,Math.abs(e)<=2.623395162778){var n=as(this.utg,2*a,2*e);a+=n[0],e+=n[1],e=Math.atan(Zt(e));var r=Math.sin(a),h=Math.cos(a),o=Math.sin(e),l=Math.cos(e);a=Math.atan2(r*l,ts(o,l*h)),e=Math.atan2(o,l*h),s=H(e+this.long0),i=is(this.cgb,a)}else s=1/0,i=1/0;return t.x=s,t.y=i,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},rs=function(t,s){if(void 0===t){if((t=Math.floor(30*(H(s)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t};var hs={init:function(){var t=rs(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*p,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,ns.init.apply(this),this.forward=ns.forward,this.inverse=ns.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},os=function(t,s){return Math.pow((1-t)/(1+t),s)},ls=20;var cs={init:function(){var t=Math.sin(this.lat0),s=Math.cos(this.lat0);s*=s,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*s*s/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+M)/(Math.pow(Math.tan(.5*this.lat0+M),this.C)*os(this.e*t,this.ratexp))},forward:function(t){var s=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+M),this.C)*os(this.e*Math.sin(i),this.ratexp))-l,t.x=this.C*s,t},inverse:function(t){for(var s=t.x/this.C,i=t.y,e=Math.pow(Math.tan(.5*i+M)/this.K,1/this.C),a=ls;a>0&&(i=2*Math.atan(e*os(this.e*Math.sin(t.y),-.5*this.e))-l,!(Math.abs(i-t.y)<1e-14));--a)t.y=i;return a?(t.x=s,t.y=i,t):null},names:["gauss"]};var us={init:function(){cs.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var s,i,e,a;return t.x=H(t.x-this.long0),cs.forward.apply(this,[t]),s=Math.sin(t.y),i=Math.cos(t.y),e=Math.cos(t.x),a=this.k0*this.R2/(1+this.sinc0*s+this.cosc0*i*e),t.x=a*i*Math.sin(t.x),t.y=a*(this.cosc0*s-this.sinc0*i*e),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var s,i,e,a,n;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,n=Math.sqrt(t.x*t.x+t.y*t.y)){var r=2*Math.atan2(n,this.R2);s=Math.sin(r),i=Math.cos(r),a=Math.asin(i*this.sinc0+t.y*s*this.cosc0/n),e=Math.atan2(t.x*s,n*this.cosc0*i-t.y*this.sinc0*s)}else a=this.phic0,e=0;return t.x=e,t.y=a,cs.inverse.apply(this,[t]),t.x=H(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var fs={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=d&&(this.k0=.5*(1+U(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=d&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=d&&(this.k0=.5*this.cons*$(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Q(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=$(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-l,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var s,i,e,a,n,r,h=t.x,o=t.y,c=Math.sin(o),u=Math.cos(o),f=H(h-this.long0);return Math.abs(Math.abs(h-this.long0)-Math.PI)<=d&&Math.abs(o+this.lat0)<=d?(t.x=NaN,t.y=NaN,t):this.sphere?(s=2*this.k0/(1+this.sinlat0*c+this.coslat0*u*Math.cos(f)),t.x=this.a*s*u*Math.sin(f)+this.x0,t.y=this.a*s*(this.coslat0*c-this.sinlat0*u*Math.cos(f))+this.y0,t):(i=2*Math.atan(this.ssfn_(o,c,this.e))-l,a=Math.cos(i),e=Math.sin(i),Math.abs(this.coslat0)<=d?(n=Q(this.e,o*this.con,this.con*c),r=2*this.a*this.k0*n/this.cons,t.x=this.x0+r*Math.sin(h-this.long0),t.y=this.y0-this.con*r*Math.cos(h-this.long0),t):(Math.abs(this.sinlat0)<d?(s=2*this.a*this.k0/(1+a*Math.cos(f)),t.y=s*e):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*e+this.cosX0*a*Math.cos(f))),t.y=s*(this.cosX0*e-this.sinX0*a*Math.cos(f))+this.y0),t.x=s*a*Math.sin(f)+this.x0,t))},inverse:function(t){var s,i,e,a,n;t.x-=this.x0,t.y-=this.y0;var r=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var h=2*Math.atan(r/(2*this.a*this.k0));return s=this.long0,i=this.lat0,r<=d?(t.x=s,t.y=i,t):(i=Math.asin(Math.cos(h)*this.sinlat0+t.y*Math.sin(h)*this.coslat0/r),s=Math.abs(this.coslat0)<d?this.lat0>0?H(this.long0+Math.atan2(t.x,-1*t.y)):H(this.long0+Math.atan2(t.x,t.y)):H(this.long0+Math.atan2(t.x*Math.sin(h),r*this.coslat0*Math.cos(h)-t.y*this.sinlat0*Math.sin(h))),t.x=s,t.y=i,t)}if(Math.abs(this.coslat0)<=d){if(r<=d)return i=this.lat0,s=this.long0,t.x=s,t.y=i,t;t.x*=this.con,t.y*=this.con,e=r*this.cons/(2*this.a*this.k0),i=this.con*W(this.e,e),s=this.con*H(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else a=2*Math.atan(r*this.cosX0/(2*this.a*this.k0*this.ms1)),s=this.long0,r<=d?n=this.X0:(n=Math.asin(Math.cos(a)*this.sinX0+t.y*Math.sin(a)*this.cosX0/r),s=H(this.long0+Math.atan2(t.x*Math.sin(a),r*this.cosX0*Math.cos(a)-t.y*this.sinX0*Math.sin(a)))),i=-1*W(this.e,Math.tan(.5*(l+n)));return t.x=s,t.y=i,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,s,i){return s*=i,Math.tan(.5*(l+t))*Math.pow((1-s)/(1+s),.5*i)}};var ds={init:function(){var t=this.lat0;this.lambda0=this.long0;var s=Math.sin(t),i=this.a,e=1/this.rf,a=2*e-Math.pow(e,2),n=this.e=Math.sqrt(a);this.R=this.k0*i*Math.sqrt(1-a)/(1-a*Math.pow(s,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(s/this.alpha);var r=Math.log(Math.tan(Math.PI/4+this.b0/2)),h=Math.log(Math.tan(Math.PI/4+t/2)),o=Math.log((1+n*s)/(1-n*s));this.K=r-this.alpha*h+this.alpha*n/2*o},forward:function(t){var s=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),e=-this.alpha*(s+i)+this.K,a=2*(Math.atan(Math.exp(e))-Math.PI/4),n=this.alpha*(t.x-this.lambda0),r=Math.atan(Math.sin(n)/(Math.sin(this.b0)*Math.tan(a)+Math.cos(this.b0)*Math.cos(n))),h=Math.asin(Math.cos(this.b0)*Math.sin(a)-Math.sin(this.b0)*Math.cos(a)*Math.cos(n));return t.y=this.R/2*Math.log((1+Math.sin(h))/(1-Math.sin(h)))+this.y0,t.x=this.R*r+this.x0,t},inverse:function(t){for(var s=t.x-this.x0,i=t.y-this.y0,e=s/this.R,a=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),n=Math.asin(Math.cos(this.b0)*Math.sin(a)+Math.sin(this.b0)*Math.cos(a)*Math.cos(e)),r=Math.atan(Math.sin(e)/(Math.cos(this.b0)*Math.cos(e)-Math.sin(this.b0)*Math.tan(a))),h=this.lambda0+r/this.alpha,o=0,l=n,c=-1e3,u=0;Math.abs(l-c)>1e-7;){if(++u>20)return;o=1/this.alpha*(Math.log(Math.tan(Math.PI/4+n/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),c=l,l=2*Math.atan(Math.exp(o))-Math.PI/2}return t.x=h,t.y=l,t},names:["somerc"]},ps=1e-7;var ms={init:function(){var t,s,i,e,a,n,r,h,o,c,u,f,m,v=0,y=0,_=0,x=0,b=0,S=0,w=0;this.no_off=(m="object"==typeof(f=this).PROJECTION?Object.keys(f.PROJECTION)[0]:f.PROJECTION,"no_uoff"in f||"no_off"in f||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(m)),this.no_rot="no_rot"in this;var C=!1;"alpha"in this&&(C=!0);var k=!1;if("rectified_grid_angle"in this&&(k=!0),C&&(w=this.alpha),k&&(v=this.rectified_grid_angle*p),C||k)y=this.longc;else if(_=this.long1,b=this.lat1,x=this.long2,S=this.lat2,Math.abs(b-S)<=ps||(t=Math.abs(b))<=ps||Math.abs(t-l)<=ps||Math.abs(Math.abs(this.lat0)-l)<=ps||Math.abs(Math.abs(S)-l)<=ps)throw new Error;var N=1-this.es;s=Math.sqrt(N),Math.abs(this.lat0)>d?(h=Math.sin(this.lat0),i=Math.cos(this.lat0),t=1-this.es*h*h,this.B=i*i,this.B=Math.sqrt(1+this.es*this.B*this.B/N),this.A=this.B*this.k0*s/t,(a=(e=this.B*s/(i*Math.sqrt(t)))*e-1)<=0?a=0:(a=Math.sqrt(a),this.lat0<0&&(a=-a)),this.E=a+=e,this.E*=Math.pow(Q(this.e,this.lat0,h),this.B)):(this.B=1/s,this.A=this.k0,this.E=e=a=1),C||k?(C?(u=Math.asin(Math.sin(w)/e),k||(v=w)):(u=v,w=Math.asin(e*Math.sin(u))),this.lam0=y-Math.asin(.5*(a-1/a)*Math.tan(u))/this.B):(n=Math.pow(Q(this.e,b,Math.sin(b)),this.B),r=Math.pow(Q(this.e,S,Math.sin(S)),this.B),a=this.E/n,o=(r-n)/(r+n),c=((c=this.E*this.E)-r*n)/(c+r*n),(t=_-x)<-Math.pi?x-=g:t>Math.pi&&(x+=g),this.lam0=H(.5*(_+x)-Math.atan(c*Math.tan(.5*this.B*(_-x))/o)/this.B),u=Math.atan(2*Math.sin(this.B*H(_-this.lam0))/(a-1/a)),v=w=Math.asin(e*Math.sin(u))),this.singam=Math.sin(u),this.cosgam=Math.cos(u),this.sinrot=Math.sin(v),this.cosrot=Math.cos(v),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(e*e-1)/Math.cos(w))),this.lat0<0&&(this.u_0=-this.u_0)),a=.5*u,this.v_pole_n=this.ArB*Math.log(Math.tan(M-a)),this.v_pole_s=this.ArB*Math.log(Math.tan(M+a))},forward:function(t){var s,i,e,a,n,r,h,o,c={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-l)>d){if(s=.5*((n=this.E/Math.pow(Q(this.e,t.y,Math.sin(t.y)),this.B))-(r=1/n)),i=.5*(n+r),a=Math.sin(this.B*t.x),e=(s*this.singam-a*this.cosgam)/i,Math.abs(Math.abs(e)-1)<d)throw new Error;o=.5*this.ArB*Math.log((1-e)/(1+e)),r=Math.cos(this.B*t.x),h=Math.abs(r)<ps?this.A*t.x:this.ArB*Math.atan2(s*this.cosgam+a*this.singam,r)}else o=t.y>0?this.v_pole_n:this.v_pole_s,h=this.ArB*t.y;return this.no_rot?(c.x=h,c.y=o):(h-=this.u_0,c.x=o*this.cosrot+h*this.sinrot,c.y=h*this.cosrot-o*this.sinrot),c.x=this.a*c.x+this.x0,c.y=this.a*c.y+this.y0,c},inverse:function(t){var s,i,e,a,n,r,h,o={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(i=t.y,s=t.x):(i=t.x*this.cosrot-t.y*this.sinrot,s=t.y*this.cosrot+t.x*this.sinrot+this.u_0),a=.5*((e=Math.exp(-this.BrA*i))-1/e),n=.5*(e+1/e),h=((r=Math.sin(this.BrA*s))*this.cosgam+a*this.singam)/n,Math.abs(Math.abs(h)-1)<d)o.x=0,o.y=h<0?-l:l;else{if(o.y=this.E/Math.sqrt((1+h)/(1-h)),o.y=W(this.e,Math.pow(o.y,1/this.B)),o.y===1/0)throw new Error;o.x=-this.rB*Math.atan2(a*this.cosgam-r*this.singam,Math.cos(this.BrA*s))}return o.x+=this.lam0,o},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]};var Ms={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<d)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var s=Math.sin(this.lat1),i=Math.cos(this.lat1),e=$(this.e,s,i),a=Q(this.e,this.lat1,s),n=Math.sin(this.lat2),r=Math.cos(this.lat2),h=$(this.e,n,r),o=Q(this.e,this.lat2,n),l=Q(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>d?this.ns=Math.log(e/h)/Math.log(a/o):this.ns=s,isNaN(this.ns)&&(this.ns=s),this.f0=e/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var s=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=d&&(i=U(i)*(l-2*d));var e,a,n=Math.abs(Math.abs(i)-l);if(n>d)e=Q(this.e,i,Math.sin(i)),a=this.a*this.f0*Math.pow(e,this.ns);else{if((n=i*this.ns)<=0)return null;a=0}var r=this.ns*H(s-this.long0);return t.x=this.k0*(a*Math.sin(r))+this.x0,t.y=this.k0*(this.rh-a*Math.cos(r))+this.y0,t},inverse:function(t){var s,i,e,a,n,r=(t.x-this.x0)/this.k0,h=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(s=Math.sqrt(r*r+h*h),i=1):(s=-Math.sqrt(r*r+h*h),i=-1);var o=0;if(0!==s&&(o=Math.atan2(i*r,i*h)),0!==s||this.ns>0){if(i=1/this.ns,e=Math.pow(s/(this.a*this.f0),i),-9999===(a=W(this.e,e)))return null}else a=-l;return n=H(o/this.ns+this.long0),t.x=n,t.y=a,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]};var gs={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var s,i,e,a,n,r,h,o=t.x,l=t.y,c=H(o-this.long0);return s=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/s)-this.s45),e=-c*this.alfa,a=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(e)),n=Math.asin(Math.cos(i)*Math.sin(e)/Math.cos(a)),r=this.n*n,h=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(a/2+this.s45),this.n),t.y=h*Math.cos(r)/1,t.x=h*Math.sin(r)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var s,i,e,a,n,r,h,o=t.x;t.x=t.y,t.y=o,this.czech||(t.y*=-1,t.x*=-1),n=Math.sqrt(t.x*t.x+t.y*t.y),a=Math.atan2(t.y,t.x)/Math.sin(this.s0),e=2*(Math.atan(Math.pow(this.ro0/n,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),s=Math.asin(Math.cos(this.ad)*Math.sin(e)-Math.sin(this.ad)*Math.cos(e)*Math.cos(a)),i=Math.asin(Math.cos(e)*Math.sin(a)/Math.cos(s)),t.x=this.long0-i/this.alfa,r=s,h=0;var l=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(s/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(r))/(1-this.e*Math.sin(r)),this.e/2))-this.s45),Math.abs(r-t.y)<1e-10&&(h=1),r=t.y,l+=1}while(0===h&&l<15);return l>=15?null:t},names:["Krovak","krovak"]},vs=function(t,s,i,e,a){return t*a-s*Math.sin(2*a)+i*Math.sin(4*a)-e*Math.sin(6*a)},ys=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},_s=function(t){return.375*t*(1+.25*t*(1+.46875*t))},xs=function(t){return.05859375*t*t*(1+.75*t)},bs=function(t){return t*t*t*(35/3072)},Ss=function(t,s,i){var e=s*i;return t/Math.sqrt(1-e*e)},ws=function(t){return Math.abs(t)<l?t:t-U(t)*Math.PI},Cs=function(t,s,i,e,a){var n,r;n=t/s;for(var h=0;h<15;h++)if(n+=r=(t-(s*n-i*Math.sin(2*n)+e*Math.sin(4*n)-a*Math.sin(6*n)))/(s-2*i*Math.cos(2*n)+4*e*Math.cos(4*n)-6*a*Math.cos(6*n)),Math.abs(r)<=1e-10)return n;return NaN};var ks={init:function(){this.sphere||(this.e0=ys(this.es),this.e1=_s(this.es),this.e2=xs(this.es),this.e3=bs(this.es),this.ml0=this.a*vs(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var s,i,e=t.x,a=t.y;if(e=H(e-this.long0),this.sphere)s=this.a*Math.asin(Math.cos(a)*Math.sin(e)),i=this.a*(Math.atan2(Math.tan(a),Math.cos(e))-this.lat0);else{var n=Math.sin(a),r=Math.cos(a),h=Ss(this.a,this.e,n),o=Math.tan(a)*Math.tan(a),l=e*Math.cos(a),c=l*l,u=this.es*r*r/(1-this.es);s=h*l*(1-c*o*(1/6-(8-o+8*u)*c/120)),i=this.a*vs(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+h*n/r*c*(.5+(5-o+6*u)*c/24)}return t.x=s+this.x0,t.y=i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var s,i,e=t.x/this.a,a=t.y/this.a;if(this.sphere){var n=a+this.lat0;s=Math.asin(Math.sin(n)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(n))}else{var r=this.ml0/this.a+a,h=Cs(r,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(h)-l)<=d)return t.x=this.long0,t.y=l,a<0&&(t.y*=-1),t;var o=Ss(this.a,this.e,Math.sin(h)),c=o*o*o/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(h),2),f=e*this.a/o,p=f*f;s=h-o*Math.tan(h)/c*f*f*(.5-(1+3*u)*f*f/24),i=f*(1-p*(u/3+(1+3*u)*u*p/15))/Math.cos(h)}return t.x=H(i+this.long0),t.y=ws(s),t},names:["Cassini","Cassini_Soldner","cass"]},Ns=function(t,s){var i;return t>1e-7?(1-t*t)*(s/(1-(i=t*s)*i)-.5/t*Math.log((1-i)/(1+i))):2*s};var Is=.3333333333333333,As=.17222222222222222,Ps=.10257936507936508,Es=.06388888888888888,Ls=.0664021164021164,Os=.016415012942191543;var Ts={init:function(){var t,s=Math.abs(this.lat0);if(Math.abs(s-l)<d?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(s)<d?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Ns(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var s,i=[];return i[0]=t*Is,s=t*t,i[0]+=s*As,i[1]=s*Es,s*=t,i[0]+=s*Ps,i[1]+=s*Ls,i[2]=s*Os,i}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Ns(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var s,i,e,a,n,r,h,o,c,u,f=t.x,p=t.y;if(f=H(f-this.long0),this.sphere){if(n=Math.sin(p),u=Math.cos(p),e=Math.cos(f),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((i=this.mode===this.EQUIT?1+u*e:1+this.sinph0*n+this.cosph0*u*e)<=d)return null;s=(i=Math.sqrt(2/i))*u*Math.sin(f),i*=this.mode===this.EQUIT?n:this.cosph0*n-this.sinph0*u*e}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(e=-e),Math.abs(p+this.lat0)<d)return null;i=M-.5*p,s=(i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)))*Math.sin(f),i*=e}}else{switch(h=0,o=0,c=0,e=Math.cos(f),a=Math.sin(f),n=Math.sin(p),r=Ns(this.e,n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(h=r/this.qp,o=Math.sqrt(1-h*h)),this.mode){case this.OBLIQ:c=1+this.sinb1*h+this.cosb1*o*e;break;case this.EQUIT:c=1+o*e;break;case this.N_POLE:c=l+p,r=this.qp-r;break;case this.S_POLE:c=p-l,r=this.qp+r}if(Math.abs(c)<d)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),i=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*h-this.sinb1*o*e):(c=Math.sqrt(2/(1+o*e)))*h*this.ymf,s=this.xmf*c*o*a;break;case this.N_POLE:case this.S_POLE:r>=0?(s=(c=Math.sqrt(r))*a,i=e*(this.mode===this.S_POLE?c:-c)):s=i=0}}return t.x=this.a*s+this.x0,t.y=this.a*i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var s,i,e,a,n,r,h,o,c,u,f=t.x/this.a,p=t.y/this.a;if(this.sphere){var m,M=0,g=0;if((i=.5*(m=Math.sqrt(f*f+p*p)))>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(g=Math.sin(i),M=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(m)<=d?0:Math.asin(p*g/m),f*=g,p=M*m;break;case this.OBLIQ:i=Math.abs(m)<=d?this.lat0:Math.asin(M*this.sinph0+p*g*this.cosph0/m),f*=g*this.cosph0,p=(M-Math.sin(i)*this.sinph0)*m;break;case this.N_POLE:p=-p,i=l-i;break;case this.S_POLE:i-=l}s=0!==p||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(f,p):0}else{if(h=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(f/=this.dd,p*=this.dd,(r=Math.sqrt(f*f+p*p))<d)return t.x=this.long0,t.y=this.lat0,t;a=2*Math.asin(.5*r/this.rq),e=Math.cos(a),f*=a=Math.sin(a),this.mode===this.OBLIQ?(h=e*this.sinb1+p*a*this.cosb1/r,n=this.qp*h,p=r*this.cosb1*e-p*this.sinb1*a):(h=p*a/r,n=this.qp*h,p=r*e)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(p=-p),!(n=f*f+p*p))return t.x=this.long0,t.y=this.lat0,t;h=1-n/this.qp,this.mode===this.S_POLE&&(h=-h)}s=Math.atan2(f,p),o=Math.asin(h),c=this.apa,u=o+o,i=o+c[0]*Math.sin(u)+c[1]*Math.sin(u+u)+c[2]*Math.sin(u+u+u)}return t.x=H(this.long0+s),t.y=i,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},Rs=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)};var qs={init:function(){Math.abs(this.lat1+this.lat2)<d||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=$(this.e3,this.sin_po,this.cos_po),this.qs1=Ns(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=$(this.e3,this.sin_po,this.cos_po),this.qs2=Ns(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Ns(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>d?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var s=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var e=Ns(this.e3,this.sin_phi,this.cos_phi),a=this.a*Math.sqrt(this.c-this.ns0*e)/this.ns0,n=this.ns0*H(s-this.long0),r=a*Math.sin(n)+this.x0,h=this.rh-a*Math.cos(n)+this.y0;return t.x=r,t.y=h,t},inverse:function(t){var s,i,e,a,n,r;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(s=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(s=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1),a=0,0!==s&&(a=Math.atan2(e*t.x,e*t.y)),e=s*this.ns0/this.a,this.sphere?r=Math.asin((this.c-e*e)/(2*this.ns0)):(i=(this.c-e*e)/this.ns0,r=this.phi1z(this.e3,i)),n=H(a/this.ns0+this.long0),t.x=n,t.y=r,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,s){var i,e,a,n,r,h=Rs(.5*s);if(t<d)return h;for(var o=t*t,l=1;l<=25;l++)if(i=Math.sin(h),e=Math.cos(h),h+=r=.5*(n=1-(a=t*i)*a)*n/e*(s/(1-o)-i/n+.5/t*Math.log((1-a)/(1+a))),Math.abs(r)<=1e-7)return h;return null}};var zs={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var s,i,e,a,n,r,h,o=t.x,l=t.y;return e=H(o-this.long0),s=Math.sin(l),i=Math.cos(l),a=Math.cos(e),(n=this.sin_p14*s+this.cos_p14*i*a)>0||Math.abs(n)<=d?(r=this.x0+1*this.a*i*Math.sin(e)/n,h=this.y0+1*this.a*(this.cos_p14*s-this.sin_p14*i*a)/n):(r=this.x0+this.infinity_dist*i*Math.sin(e),h=this.y0+this.infinity_dist*(this.cos_p14*s-this.sin_p14*i*a)),t.x=r,t.y=h,t},inverse:function(t){var s,i,e,a,n,r;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(s=Math.sqrt(t.x*t.x+t.y*t.y))?(a=Math.atan2(s,this.rc),i=Math.sin(a),e=Math.cos(a),r=Rs(e*this.sin_p14+t.y*i*this.cos_p14/s),n=Math.atan2(t.x*i,s*this.cos_p14*e-t.y*this.sin_p14*i),n=H(this.long0+n)):(r=this.phic0,n=0),t.x=n,t.y=r,t},names:["gnom"]},Bs=function(t,s){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(s)-i)<1e-6)return s<0?-1*l:l;for(var e,a,n,r,h=Math.asin(.5*s),o=0;o<30;o++)if(a=Math.sin(h),n=Math.cos(h),r=t*a,h+=e=Math.pow(1-r*r,2)/(2*n)*(s/(1-t*t)-a/(1-r*r)+.5/t*Math.log((1-r)/(1+r))),Math.abs(e)<=1e-10)return h;return NaN};var js={init:function(){this.sphere||(this.k0=$(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var s,i,e=t.x,a=t.y,n=H(e-this.long0);if(this.sphere)s=this.x0+this.a*n*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(a)/Math.cos(this.lat_ts);else{var r=Ns(this.e,Math.sin(a));s=this.x0+this.a*this.k0*n,i=this.y0+this.a*r*.5/this.k0}return t.x=s,t.y=i,t},inverse:function(t){var s,i;return t.x-=this.x0,t.y-=this.y0,this.sphere?(s=H(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=Bs(this.e,2*t.y*this.k0/this.a),s=H(this.long0+t.x/(this.a*this.k0))),t.x=s,t.y=i,t},names:["cea"]};var Ds={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var s=t.x,i=t.y,e=H(s-this.long0),a=ws(i-this.lat0);return t.x=this.x0+this.a*e*this.rc,t.y=this.y0+this.a*a,t},inverse:function(t){var s=t.x,i=t.y;return t.x=H(this.long0+(s-this.x0)/(this.a*this.rc)),t.y=ws(this.lat0+(i-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},Gs=20;var Fs={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ys(this.es),this.e1=_s(this.es),this.e2=xs(this.es),this.e3=bs(this.es),this.ml0=this.a*vs(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var s,i,e,a=t.x,n=t.y,r=H(a-this.long0);if(e=r*Math.sin(n),this.sphere)Math.abs(n)<=d?(s=this.a*r,i=-1*this.a*this.lat0):(s=this.a*Math.sin(e)/Math.tan(n),i=this.a*(ws(n-this.lat0)+(1-Math.cos(e))/Math.tan(n)));else if(Math.abs(n)<=d)s=this.a*r,i=-1*this.ml0;else{var h=Ss(this.a,this.e,Math.sin(n))/Math.tan(n);s=h*Math.sin(e),i=this.a*vs(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+h*(1-Math.cos(e))}return t.x=s+this.x0,t.y=i+this.y0,t},inverse:function(t){var s,i,e,a,n,r,h,o,l;if(e=t.x-this.x0,a=t.y-this.y0,this.sphere)if(Math.abs(a+this.a*this.lat0)<=d)s=H(e/this.a+this.long0),i=0;else{var c;for(r=this.lat0+a/this.a,h=e*e/this.a/this.a+r*r,o=r,n=Gs;n;--n)if(o+=l=-1*(r*(o*(c=Math.tan(o))+1)-o-.5*(o*o+h)*c)/((o-r)/c-1),Math.abs(l)<=d){i=o;break}s=H(this.long0+Math.asin(e*Math.tan(o)/this.a)/Math.sin(i))}else if(Math.abs(a+this.ml0)<=d)i=0,s=H(this.long0+e/this.a);else{var u,f,p,m,M;for(r=(this.ml0+a)/this.a,h=e*e/this.a/this.a+r*r,o=r,n=Gs;n;--n)if(M=this.e*Math.sin(o),u=Math.sqrt(1-M*M)*Math.tan(o),f=this.a*vs(this.e0,this.e1,this.e2,this.e3,o),p=this.e0-2*this.e1*Math.cos(2*o)+4*this.e2*Math.cos(4*o)-6*this.e3*Math.cos(6*o),o-=l=(r*(u*(m=f/this.a)+1)-m-.5*u*(m*m+h))/(this.es*Math.sin(2*o)*(m*m+h-2*r*m)/(4*u)+(r-m)*(u*p-2/Math.sin(2*o))-p),Math.abs(l)<=d){i=o;break}u=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),s=H(this.long0+Math.asin(e*u/this.a)/Math.sin(i))}return t.x=s,t.y=i,t},names:["Polyconic","poly"]};var $s={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var s,i=t.x,e=t.y-this.lat0,a=i-this.long0,n=e/o*1e-5,r=a,h=1,l=0;for(s=1;s<=10;s++)h*=n,l+=this.A[s]*h;var c,u=l,f=r,d=1,p=0,m=0,M=0;for(s=1;s<=6;s++)c=p*u+d*f,d=d*u-p*f,p=c,m=m+this.B_re[s]*d-this.B_im[s]*p,M=M+this.B_im[s]*d+this.B_re[s]*p;return t.x=M*this.a+this.x0,t.y=m*this.a+this.y0,t},inverse:function(t){var s,i,e=t.x,a=t.y,n=e-this.x0,r=(a-this.y0)/this.a,h=n/this.a,l=1,c=0,u=0,f=0;for(s=1;s<=6;s++)i=c*r+l*h,l=l*r-c*h,c=i,u=u+this.C_re[s]*l-this.C_im[s]*c,f=f+this.C_im[s]*l+this.C_re[s]*c;for(var d=0;d<this.iterations;d++){var p,m=u,M=f,g=r,v=h;for(s=2;s<=6;s++)p=M*u+m*f,m=m*u-M*f,M=p,g+=(s-1)*(this.B_re[s]*m-this.B_im[s]*M),v+=(s-1)*(this.B_im[s]*m+this.B_re[s]*M);m=1,M=0;var y=this.B_re[1],_=this.B_im[1];for(s=2;s<=6;s++)p=M*u+m*f,m=m*u-M*f,M=p,y+=s*(this.B_re[s]*m-this.B_im[s]*M),_+=s*(this.B_im[s]*m+this.B_re[s]*M);var x=y*y+_*_;u=(g*y+v*_)/x,f=(v*y-g*_)/x}var b=u,S=f,w=1,C=0;for(s=1;s<=9;s++)w*=b,C+=this.D[s]*w;var k=this.lat0+C*o*1e5,N=this.long0+S;return t.x=N,t.y=k,t},names:["New_Zealand_Map_Grid","nzmg"]};var Us={init:function(){},forward:function(t){var s=t.x,i=t.y,e=H(s-this.long0),a=this.x0+this.a*e,n=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=a,t.y=n,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var s=H(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=s,t.y=i,t},names:["Miller_Cylindrical","mill"]},Hs=20;var Qs={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Kt(this.es)},forward:function(t){var s,i,e=t.x,a=t.y;if(e=H(e-this.long0),this.sphere){if(this.m)for(var n=this.n*Math.sin(a),r=Hs;r;--r){var h=(this.m*a+Math.sin(a)-n)/(this.m+Math.cos(a));if(a-=h,Math.abs(h)<d)break}else a=1!==this.n?Math.asin(this.n*Math.sin(a)):a;s=this.a*this.C_x*e*(this.m+Math.cos(a)),i=this.a*this.C_y*a}else{var o=Math.sin(a),l=Math.cos(a);i=this.a*Xt(a,o,l,this.en),s=this.a*e*l/Math.sqrt(1-this.es*o*o)}return t.x=s,t.y=i,t},inverse:function(t){var s,i,e,a;return t.x-=this.x0,e=t.x/this.a,t.y-=this.y0,s=t.y/this.a,this.sphere?(s/=this.C_y,e/=this.C_x*(this.m+Math.cos(s)),this.m?s=Rs((this.m*s+Math.sin(s))/this.n):1!==this.n&&(s=Rs(Math.sin(s)/this.n)),e=H(e+this.long0),s=ws(s)):(s=Jt(t.y/this.a,this.es,this.en),(a=Math.abs(s))<l?(a=Math.sin(s),i=this.long0+t.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(s)),e=H(i)):a-d<l&&(e=this.long0)),t.x=e,t.y=s,t},names:["Sinusoidal","sinu"]};var Ws={init:function(){},forward:function(t){for(var s=t.x,i=t.y,e=H(s-this.long0),a=i,n=Math.PI*Math.sin(i);;){var r=-(a+Math.sin(a)-n)/(1+Math.cos(a));if(a+=r,Math.abs(r)<d)break}a/=2,Math.PI/2-Math.abs(i)<d&&(e=0);var h=.900316316158*this.a*e*Math.cos(a)+this.x0,o=1.4142135623731*this.a*Math.sin(a)+this.y0;return t.x=h,t.y=o,t},inverse:function(t){var s,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),s=Math.asin(i);var e=H(this.long0+t.x/(.900316316158*this.a*Math.cos(s)));e<-Math.PI&&(e=-Math.PI),e>Math.PI&&(e=Math.PI),i=(2*s+Math.sin(2*s))/Math.PI,Math.abs(i)>1&&(i=1);var a=Math.asin(i);return t.x=e,t.y=a,t},names:["Mollweide","moll"]};var Vs={init:function(){Math.abs(this.lat1+this.lat2)<d||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ys(this.es),this.e1=_s(this.es),this.e2=xs(this.es),this.e3=bs(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=$(this.e,this.sinphi,this.cosphi),this.ml1=vs(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<d?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=$(this.e,this.sinphi,this.cosphi),this.ml2=vs(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=vs(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var s,i=t.x,e=t.y;if(this.sphere)s=this.a*(this.g-e);else{var a=vs(this.e0,this.e1,this.e2,this.e3,e);s=this.a*(this.g-a)}var n=this.ns*H(i-this.long0),r=this.x0+s*Math.sin(n),h=this.y0+this.rh-s*Math.cos(n);return t.x=r,t.y=h,t},inverse:function(t){var s,i,e,a;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),s=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),s=-1);var n=0;if(0!==i&&(n=Math.atan2(s*t.x,s*t.y)),this.sphere)return a=H(this.long0+n/this.ns),e=ws(this.g-i/this.a),t.x=a,t.y=e,t;var r=this.g-i/this.a;return e=Cs(r,this.e0,this.e1,this.e2,this.e3),a=H(this.long0+n/this.ns),t.x=a,t.y=e,t},names:["Equidistant_Conic","eqdc"]};var Ks={init:function(){this.R=this.a},forward:function(t){var s,i,e=t.x,a=t.y,n=H(e-this.long0);Math.abs(a)<=d&&(s=this.x0+this.R*n,i=this.y0);var r=Rs(2*Math.abs(a/Math.PI));(Math.abs(n)<=d||Math.abs(Math.abs(a)-l)<=d)&&(s=this.x0,i=a>=0?this.y0+Math.PI*this.R*Math.tan(.5*r):this.y0+Math.PI*this.R*-Math.tan(.5*r));var h=.5*Math.abs(Math.PI/n-n/Math.PI),o=h*h,c=Math.sin(r),u=Math.cos(r),f=u/(c+u-1),p=f*f,m=f*(2/c-1),M=m*m,g=Math.PI*this.R*(h*(f-M)+Math.sqrt(o*(f-M)*(f-M)-(M+o)*(p-M)))/(M+o);n<0&&(g=-g),s=this.x0+g;var v=o+f;return g=Math.PI*this.R*(m*v-h*Math.sqrt((M+o)*(o+1)-v*v))/(M+o),i=a>=0?this.y0+g:this.y0-g,t.x=s,t.y=i,t},inverse:function(t){var s,i,e,a,n,r,h,o,l,c,u,f;return t.x-=this.x0,t.y-=this.y0,u=Math.PI*this.R,n=(e=t.x/u)*e+(a=t.y/u)*a,u=3*(a*a/(o=-2*(r=-Math.abs(a)*(1+n))+1+2*a*a+n*n)+(2*(h=r-2*a*a+e*e)*h*h/o/o/o-9*r*h/o/o)/27)/(l=(r-h*h/3/o)/o)/(c=2*Math.sqrt(-l/3)),Math.abs(u)>1&&(u=u>=0?1:-1),f=Math.acos(u)/3,i=t.y>=0?(-c*Math.cos(f+Math.PI/3)-h/3/o)*Math.PI:-(-c*Math.cos(f+Math.PI/3)-h/3/o)*Math.PI,s=Math.abs(e)<d?this.long0:H(this.long0+Math.PI*(n-1+Math.sqrt(1+2*(e*e-a*a)+n*n))/2/e),t.x=s,t.y=i,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var Xs={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var s,i,e,a,n,r,h,o,c,u,f,p,m,M,g,v,y,_,x,b,S,w,C=t.x,k=t.y,N=Math.sin(t.y),I=Math.cos(t.y),A=H(C-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=d?(t.x=this.x0+this.a*(l-k)*Math.sin(A),t.y=this.y0-this.a*(l-k)*Math.cos(A),t):Math.abs(this.sin_p12+1)<=d?(t.x=this.x0+this.a*(l+k)*Math.sin(A),t.y=this.y0+this.a*(l+k)*Math.cos(A),t):(_=this.sin_p12*N+this.cos_p12*I*Math.cos(A),y=(v=Math.acos(_))?v/Math.sin(v):1,t.x=this.x0+this.a*y*I*Math.sin(A),t.y=this.y0+this.a*y*(this.cos_p12*N-this.sin_p12*I*Math.cos(A)),t):(s=ys(this.es),i=_s(this.es),e=xs(this.es),a=bs(this.es),Math.abs(this.sin_p12-1)<=d?(n=this.a*vs(s,i,e,a,l),r=this.a*vs(s,i,e,a,k),t.x=this.x0+(n-r)*Math.sin(A),t.y=this.y0-(n-r)*Math.cos(A),t):Math.abs(this.sin_p12+1)<=d?(n=this.a*vs(s,i,e,a,l),r=this.a*vs(s,i,e,a,k),t.x=this.x0+(n+r)*Math.sin(A),t.y=this.y0+(n+r)*Math.cos(A),t):(h=N/I,o=Ss(this.a,this.e,this.sin_p12),c=Ss(this.a,this.e,N),u=Math.atan((1-this.es)*h+this.es*o*this.sin_p12/(c*I)),x=0===(f=Math.atan2(Math.sin(A),this.cos_p12*Math.tan(u)-this.sin_p12*Math.cos(A)))?Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.abs(Math.abs(f)-Math.PI)<=d?-Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.asin(Math.sin(A)*Math.cos(u)/Math.sin(f)),p=this.e*this.sin_p12/Math.sqrt(1-this.es),v=o*x*(1-(b=x*x)*(g=(m=this.e*this.cos_p12*Math.cos(f)/Math.sqrt(1-this.es))*m)*(1-g)/6+(S=b*x)/8*(M=p*m)*(1-2*g)+(w=S*x)/120*(g*(4-7*g)-3*p*p*(1-7*g))-w*x/48*M),t.x=this.x0+v*Math.sin(f),t.y=this.y0+v*Math.cos(f),t))},inverse:function(t){var s,i,e,a,n,r,h,o,c,u,f,p,m,M,g,v,y,_,x,b,S,w,C;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((s=Math.sqrt(t.x*t.x+t.y*t.y))>2*l*this.a)return;return i=s/this.a,e=Math.sin(i),a=Math.cos(i),n=this.long0,Math.abs(s)<=d?r=this.lat0:(r=Rs(a*this.sin_p12+t.y*e*this.cos_p12/s),h=Math.abs(this.lat0)-l,n=Math.abs(h)<=d?this.lat0>=0?H(this.long0+Math.atan2(t.x,-t.y)):H(this.long0-Math.atan2(-t.x,t.y)):H(this.long0+Math.atan2(t.x*e,s*this.cos_p12*a-t.y*this.sin_p12*e))),t.x=n,t.y=r,t}return o=ys(this.es),c=_s(this.es),u=xs(this.es),f=bs(this.es),Math.abs(this.sin_p12-1)<=d?(p=this.a*vs(o,c,u,f,l),s=Math.sqrt(t.x*t.x+t.y*t.y),r=Cs((p-s)/this.a,o,c,u,f),n=H(this.long0+Math.atan2(t.x,-1*t.y)),t.x=n,t.y=r,t):Math.abs(this.sin_p12+1)<=d?(p=this.a*vs(o,c,u,f,l),s=Math.sqrt(t.x*t.x+t.y*t.y),r=Cs((s-p)/this.a,o,c,u,f),n=H(this.long0+Math.atan2(t.x,t.y)),t.x=n,t.y=r,t):(s=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),m=Ss(this.a,this.e,this.sin_p12),v=Math.cos(g),_=-(y=this.e*this.cos_p12*v)*y/(1-this.es),x=3*this.es*(1-_)*this.sin_p12*this.cos_p12*v/(1-this.es),w=1-_*(S=(b=s/m)-_*(1+_)*Math.pow(b,3)/6-x*(1+3*_)*Math.pow(b,4)/24)*S/2-b*S*S*S/6,M=Math.asin(this.sin_p12*Math.cos(S)+this.cos_p12*Math.sin(S)*v),n=H(this.long0+Math.asin(Math.sin(g)*Math.sin(S)/Math.cos(M))),C=Math.sin(M),r=Math.atan2((C-this.es*w*this.sin_p12)*Math.tan(M),C*(1-this.es)),t.x=n,t.y=r,t)},names:["Azimuthal_Equidistant","aeqd"]};var Js={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var s,i,e,a,n,r,h,o=t.x,l=t.y;return e=H(o-this.long0),s=Math.sin(l),i=Math.cos(l),a=Math.cos(e),((n=this.sin_p14*s+this.cos_p14*i*a)>0||Math.abs(n)<=d)&&(r=1*this.a*i*Math.sin(e),h=this.y0+1*this.a*(this.cos_p14*s-this.sin_p14*i*a)),t.x=r,t.y=h,t},inverse:function(t){var s,i,e,a,n,r,h;return t.x-=this.x0,t.y-=this.y0,s=Math.sqrt(t.x*t.x+t.y*t.y),i=Rs(s/this.a),e=Math.sin(i),a=Math.cos(i),r=this.long0,Math.abs(s)<=d?(h=this.lat0,t.x=r,t.y=h,t):(h=Rs(a*this.sin_p14+t.y*e*this.cos_p14/s),n=Math.abs(this.lat0)-l,Math.abs(n)<=d?(r=this.lat0>=0?H(this.long0+Math.atan2(t.x,-t.y)):H(this.long0-Math.atan2(-t.x,t.y)),t.x=r,t.y=h,t):(r=H(this.long0+Math.atan2(t.x*e,s*this.cos_p14*a-t.y*this.sin_p14*e)),t.x=r,t.y=h,t))},names:["ortho"]},Ys={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Zs={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function ti(t,s,i,e){var a;return t<d?(e.value=Zs.AREA_0,a=0):(a=Math.atan2(s,i),Math.abs(a)<=M?e.value=Zs.AREA_0:a>M&&a<=l+M?(e.value=Zs.AREA_1,a-=l):a>l+M||a<=-(l+M)?(e.value=Zs.AREA_2,a=a>=0?a-v:a+v):(e.value=Zs.AREA_3,a+=l)),a}function si(t,s){var i=t+s;return i<-v?i+=g:i>+v&&(i-=g),i}var ii={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=l-M/2?this.face=Ys.TOP:this.lat0<=-(l-M/2)?this.face=Ys.BOTTOM:Math.abs(this.long0)<=M?this.face=Ys.FRONT:Math.abs(this.long0)<=l+M?this.face=this.long0>0?Ys.RIGHT:Ys.LEFT:this.face=Ys.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var s,i,e,a,n,r,h={x:0,y:0},o={value:0};if(t.x-=this.long0,s=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,i=t.x,this.face===Ys.TOP)a=l-s,i>=M&&i<=l+M?(o.value=Zs.AREA_0,e=i-l):i>l+M||i<=-(l+M)?(o.value=Zs.AREA_1,e=i>0?i-v:i+v):i>-(l+M)&&i<=-M?(o.value=Zs.AREA_2,e=i+l):(o.value=Zs.AREA_3,e=i);else if(this.face===Ys.BOTTOM)a=l+s,i>=M&&i<=l+M?(o.value=Zs.AREA_0,e=-i+l):i<M&&i>=-M?(o.value=Zs.AREA_1,e=-i):i<-M&&i>=-(l+M)?(o.value=Zs.AREA_2,e=-i-l):(o.value=Zs.AREA_3,e=i>0?-i+v:-i-v);else{var c,u,f,d,p,m;this.face===Ys.RIGHT?i=si(i,+l):this.face===Ys.BACK?i=si(i,+v):this.face===Ys.LEFT&&(i=si(i,-l)),d=Math.sin(s),p=Math.cos(s),m=Math.sin(i),c=p*Math.cos(i),u=p*m,f=d,this.face===Ys.FRONT?e=ti(a=Math.acos(c),f,u,o):this.face===Ys.RIGHT?e=ti(a=Math.acos(u),f,-c,o):this.face===Ys.BACK?e=ti(a=Math.acos(-c),f,-u,o):this.face===Ys.LEFT?e=ti(a=Math.acos(-u),f,c,o):(a=e=0,o.value=Zs.AREA_0)}return r=Math.atan(12/v*(e+Math.acos(Math.sin(e)*Math.cos(M))-l)),n=Math.sqrt((1-Math.cos(a))/(Math.cos(r)*Math.cos(r))/(1-Math.cos(Math.atan(1/Math.cos(e))))),o.value===Zs.AREA_1?r+=l:o.value===Zs.AREA_2?r+=v:o.value===Zs.AREA_3&&(r+=1.5*v),h.x=n*Math.cos(r),h.y=n*Math.sin(r),h.x=h.x*this.a+this.x0,h.y=h.y*this.a+this.y0,t.x=h.x,t.y=h.y,t},inverse:function(t){var s,i,e,a,n,r,h,o,c,u,f,d,p={lam:0,phi:0},m={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),s=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?m.value=Zs.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(m.value=Zs.AREA_1,s-=l):t.x<0&&-t.x>=Math.abs(t.y)?(m.value=Zs.AREA_2,s=s<0?s+v:s-v):(m.value=Zs.AREA_3,s+=l),c=v/12*Math.tan(s),n=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),r=Math.atan(n),(h=1-(e=Math.cos(s))*e*(a=Math.tan(i))*a*(1-Math.cos(Math.atan(1/Math.cos(r)))))<-1?h=-1:h>1&&(h=1),this.face===Ys.TOP)o=Math.acos(h),p.phi=l-o,m.value===Zs.AREA_0?p.lam=r+l:m.value===Zs.AREA_1?p.lam=r<0?r+v:r-v:m.value===Zs.AREA_2?p.lam=r-l:p.lam=r;else if(this.face===Ys.BOTTOM)o=Math.acos(h),p.phi=o-l,m.value===Zs.AREA_0?p.lam=-r+l:m.value===Zs.AREA_1?p.lam=-r:m.value===Zs.AREA_2?p.lam=-r-l:p.lam=r<0?-r-v:-r+v;else{var M,g,y;c=(M=h)*M,g=(c+=(y=c>=1?0:Math.sqrt(1-c)*Math.sin(r))*y)>=1?0:Math.sqrt(1-c),m.value===Zs.AREA_1?(c=g,g=-y,y=c):m.value===Zs.AREA_2?(g=-g,y=-y):m.value===Zs.AREA_3&&(c=g,g=y,y=-c),this.face===Ys.RIGHT?(c=M,M=-g,g=c):this.face===Ys.BACK?(M=-M,g=-g):this.face===Ys.LEFT&&(c=M,M=g,g=-c),p.phi=Math.acos(-y)-l,p.lam=Math.atan2(g,M),this.face===Ys.RIGHT?p.lam=si(p.lam,-l):this.face===Ys.BACK?p.lam=si(p.lam,-v):this.face===Ys.LEFT&&(p.lam=si(p.lam,+l))}return 0!==this.es&&(u=p.phi<0?1:0,f=Math.tan(p.phi),d=this.b/Math.sqrt(f*f+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-d*d)/(this.one_minus_f*d)),u&&(p.phi=-p.phi)),p.lam+=this.long0,t.x=p.lam,t.y=p.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},ei=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],ai=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],ni=.8487,ri=1.3523,hi=m/5,oi=1/hi,li=18,ci=function(t,s){return t[0]+s*(t[1]+s*(t[2]+s*t[3]))},ui=function(t,s){return t[1]+s*(2*t[2]+3*s*t[3])};var fi={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var s=H(t.x-this.long0),i=Math.abs(t.y),e=Math.floor(i*hi);e<0?e=0:e>=li&&(e=li-1),i=m*(i-oi*e);var a={x:ci(ei[e],i)*s,y:ci(ai[e],i)};return t.y<0&&(a.y=-a.y),a.x=a.x*this.a*ni+this.x0,a.y=a.y*this.a*ri+this.y0,a},inverse:function(t){var s={x:(t.x-this.x0)/(this.a*ni),y:Math.abs(t.y-this.y0)/(this.a*ri)};if(s.y>=1)s.x/=ei[li][0],s.y=t.y<0?-l:l;else{var i=Math.floor(s.y*li);for(i<0?i=0:i>=li&&(i=li-1);;)if(ai[i][0]>s.y)--i;else{if(!(ai[i+1][0]<=s.y))break;++i}var e=ai[i],a=5*(s.y-e[0])/(ai[i+1][0]-e[0]);a=function(t,s,i,e){for(var a=s;e;--e){var n=t(a);if(a-=n,Math.abs(n)<i)break}return a}(function(t){return(ci(e,t)-s.y)/ui(e,t)},a,d,100),s.x/=ci(ei[i],a),s.y=(5*i+a)*p,t.y<0&&(s.y=-s.y)}return s.x=H(s.x+this.long0),s},names:["Robinson","robin"]};var di={init:function(){this.name="geocent"},forward:function(t){return dt(t,this.es,this.a)},inverse:function(t){return pt(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},pi={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},mi={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};var Mi={init:function(){if(Object.keys(mi).forEach(function(t){if(void 0===this[t])this[t]=mi[t].def;else{if(mi[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);mi[t].num&&(this[t]=parseFloat(this[t]))}mi[t].degrees&&(this[t]=this[t]*p)}.bind(this)),Math.abs(Math.abs(this.lat0)-l)<d?this.mode=this.lat0<0?pi.S_POLE:pi.N_POLE:Math.abs(this.lat0)<d?this.mode=pi.EQUIT:(this.mode=pi.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,s=this.azi;this.cg=Math.cos(s),this.sg=Math.sin(s),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var s,i,e,a,n=Math.sin(t.y),r=Math.cos(t.y),h=Math.cos(t.x);switch(this.mode){case pi.OBLIQ:i=this.sinph0*n+this.cosph0*r*h;break;case pi.EQUIT:i=r*h;break;case pi.S_POLE:i=-n;break;case pi.N_POLE:i=n}switch(s=(i=this.pn1/(this.p-i))*r*Math.sin(t.x),this.mode){case pi.OBLIQ:i*=this.cosph0*n-this.sinph0*r*h;break;case pi.EQUIT:i*=n;break;case pi.N_POLE:i*=-r*h;break;case pi.S_POLE:i*=r*h}return a=1/((e=i*this.cg+s*this.sg)*this.sw*this.h1+this.cw),s=(s*this.cg-i*this.sg)*this.cw*a,i=e*a,t.x=s*this.a,t.y=i*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var s,i,e,a={x:t.x,y:t.y};e=1/(this.pn1-t.y*this.sw),s=this.pn1*t.x*e,i=this.pn1*t.y*this.cw*e,t.x=s*this.cg+i*this.sg,t.y=i*this.cg-s*this.sg;var n=ts(t.x,t.y);if(Math.abs(n)<d)a.x=0,a.y=t.y;else{var r,h;switch(h=1-n*n*this.pfact,h=(this.p-Math.sqrt(h))/(this.pn1/n+n/this.pn1),r=Math.sqrt(1-h*h),this.mode){case pi.OBLIQ:a.y=Math.asin(r*this.sinph0+t.y*h*this.cosph0/n),t.y=(r-this.sinph0*Math.sin(a.y))*n,t.x*=h*this.cosph0;break;case pi.EQUIT:a.y=Math.asin(t.y*h/n),t.y=r*n,t.x*=h;break;case pi.N_POLE:a.y=Math.asin(r),t.y=-t.y;break;case pi.S_POLE:a.y=-Math.asin(r)}a.x=Math.atan2(t.x,t.y)}return t.x=a.x+this.long0,t.y=a.y,t},names:["Tilted_Perspective","tpers"]};var gi,vi={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var t=1-this.es,s=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=s,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(t){var s,i,e,a,n=t.x,r=t.y;if(n-=this.long0,"ellipse"===this.shape){r=Math.atan(this.radius_p2*Math.tan(r));var h=this.radius_p/ts(this.radius_p*Math.cos(r),Math.sin(r));if(i=h*Math.cos(n)*Math.cos(r),e=h*Math.sin(n)*Math.cos(r),a=h*Math.sin(r),(this.radius_g-i)*i-e*e-a*a*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;s=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(e/ts(a,s)),t.y=this.radius_g_1*Math.atan(a/s)):(t.x=this.radius_g_1*Math.atan(e/s),t.y=this.radius_g_1*Math.atan(a/ts(e,s)))}else"sphere"===this.shape&&(s=Math.cos(r),i=Math.cos(n)*s,e=Math.sin(n)*s,a=Math.sin(r),s=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(e/ts(a,s)),t.y=this.radius_g_1*Math.atan(a/s)):(t.x=this.radius_g_1*Math.atan(e/s),t.y=this.radius_g_1*Math.atan(a/ts(e,s))));return t.x=t.x*this.a,t.y=t.y*this.a,t},inverse:function(t){var s,i,e,a,n=-1,r=0,h=0;if(t.x=t.x/this.a,t.y=t.y/this.a,"ellipse"===this.shape){this.flip_axis?(h=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*ts(1,h)):(r=Math.tan(t.x/this.radius_g_1),h=Math.tan(t.y/this.radius_g_1)*ts(1,r));var o=h/this.radius_p;if(s=r*r+o*o+n*n,(e=(i=2*this.radius_g*n)*i-4*s*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-i-Math.sqrt(e))/(2*s),n=this.radius_g+a*n,r*=a,h*=a,t.x=Math.atan2(r,n),t.y=Math.atan(h*Math.cos(t.x)/n),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if("sphere"===this.shape){if(this.flip_axis?(h=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+h*h)):(r=Math.tan(t.x/this.radius_g_1),h=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+r*r)),s=r*r+h*h+n*n,(e=(i=2*this.radius_g*n)*i-4*s*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-i-Math.sqrt(e))/(2*s),n=this.radius_g+a*n,r*=a,h*=a,t.x=Math.atan2(r,n),t.y=Math.atan(h*Math.cos(t.x)/n)}return t.x=t.x+this.long0,t},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};It.defaultDatum="WGS84",It.Proj=ft,It.WGS84=new It.Proj("WGS84"),It.Point=Wt,It.toPoint=xt,It.defs=B,It.nadgrid=function(t,s){var i=new DataView(s),e=function(t){var s=t.getInt32(8,!1);return 11!==s&&(11!==(s=t.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(i),a=function(t,s){return{nFields:t.getInt32(8,s),nSubgridFields:t.getInt32(24,s),nSubgrids:t.getInt32(40,s),shiftType:ht(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,s),fromSemiMinorAxis:t.getFloat64(136,s),toSemiMajorAxis:t.getFloat64(152,s),toSemiMinorAxis:t.getFloat64(168,s)}}(i,e);a.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var n={header:a,subgrids:function(t,s,i){for(var e=[],a=0;a<s.nSubgrids;a++){var n=lt(t,176,i),r=ct(t,176,n,i),h=Math.round(1+(n.upperLongitude-n.lowerLongitude)/n.longitudeInterval),o=Math.round(1+(n.upperLatitude-n.lowerLatitude)/n.latitudeInterval);e.push({ll:[rt(n.lowerLongitude),rt(n.lowerLatitude)],del:[rt(n.longitudeInterval),rt(n.latitudeInterval)],lim:[h,o],count:n.gridNodeCount,cvs:ot(r)})}return e}(i,a,e)};return at[t]=n,n},It.transform=wt,It.mgrs=zt,It.version="__VERSION__",(gi=It).Proj.projections.add(Yt),gi.Proj.projections.add(ns),gi.Proj.projections.add(hs),gi.Proj.projections.add(us),gi.Proj.projections.add(fs),gi.Proj.projections.add(ds),gi.Proj.projections.add(ms),gi.Proj.projections.add(Ms),gi.Proj.projections.add(gs),gi.Proj.projections.add(ks),gi.Proj.projections.add(Ts),gi.Proj.projections.add(qs),gi.Proj.projections.add(zs),gi.Proj.projections.add(js),gi.Proj.projections.add(Ds),gi.Proj.projections.add(Fs),gi.Proj.projections.add($s),gi.Proj.projections.add(Us),gi.Proj.projections.add(Qs),gi.Proj.projections.add(Ws),gi.Proj.projections.add(Vs),gi.Proj.projections.add(Ks),gi.Proj.projections.add(Xs),gi.Proj.projections.add(Js),gi.Proj.projections.add(ii),gi.Proj.projections.add(fi),gi.Proj.projections.add(di),gi.Proj.projections.add(Mi),gi.Proj.projections.add(vi);s.a=It},deIM:function(t,s,i){"use strict";var e={name:"DialogModal",props:{width:{type:[String,Number],default:600},title:{type:String,default:""},visible:{type:Boolean,default:!1},styles:{type:Object,default:function(){}},isShowBottomBtn:{type:Boolean,default:function(){return!1}},isShowHeader:{type:Boolean,default:function(){return!0}},okBtn:{type:Boolean,default:function(){return!1}},showStep:{type:Boolean,default:!1},num:{type:Number,default:1},total:{type:Number,default:4},fullscreen:{type:Boolean,default:!1}},data:function(){return{selfVisible:this.visible,content:""}},computed:{isShowModal:{get:function(){return this.selfVisible},set:function(t){this.selfVisible=t}}},methods:{closeDialog:function(){this.$emit("cus_cancel")},handleOk:function(){this.$emit("cus_ok")}},watch:{visible:function(t){this.selfVisible=t}}},a={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("Modal",{attrs:{styles:t.styles,width:t.width,fullscreen:t.fullscreen,"class-name":"vertical-center-modal",closable:!1,"mask-closable":!1},model:{value:t.isShowModal,callback:function(s){t.isShowModal=s},expression:"isShowModal"}},[i("Row",{directives:[{name:"show",rawName:"v-show",value:t.isShowHeader,expression:"isShowHeader"}],staticClass:"modal-dialog-item modal-dialog-header",attrs:{slot:"header",type:"flex",align:"middle"},slot:"header"},[i("i-col",{staticStyle:{"text-align":"left"},attrs:{span:"16"}},[t.showStep?i("span",{staticClass:"step_layout"},[t._v(t._s(t.num)+"/"+t._s(t.total))]):t._e(),t._v(" "),i("span",{staticClass:"step_layout-title"},[t._v(t._s(t.title))])]),t._v(" "),i("i-col",{staticStyle:{"text-align":"right"},attrs:{span:"8"}},[i("i",{staticClass:"iconfont iconguanbi-",staticStyle:{cursor:"pointer","font-size":"0.14rem"},on:{click:t.closeDialog}})])],1),t._v(" "),t._t("default",function(){return[t._v(t._s(t.content))]}),t._v(" "),i("Row",{directives:[{name:"show",rawName:"v-show",value:t.isShowBottomBtn,expression:"isShowBottomBtn"}],attrs:{slot:"footer",type:"flex",align:"middle"},slot:"footer"},[i("Col",{staticStyle:{"text-align":"right"},attrs:{span:"24"}},[i("Button",{staticClass:"modal-dialog-footer modal-dialog-footer-cancle",on:{click:t.closeDialog}},[t._v(t._s(t.$t("common.button.cancel")||"取消"))]),t._v(" "),i("Button",{staticClass:"modal-dialog-footer modal-dialog-footer-ok",attrs:{type:"primary",disabled:t.okBtn},on:{click:t.handleOk}},[t._v(t._s(t.$t("common.button.confirm")||"确定"))])],1)],1)],2)},staticRenderFns:[]};var n=i("C7Lr")(e,a,!1,function(t){i("uH+N")},"data-v-49f5b8b6",null);s.a=n.exports},fdvo:function(t,s){t.exports=function(t,s){return{value:s,done:!!t}}},g5OY:function(t,s,i){"use strict";var e=i("8Cjl")(!0);i("CnHQ")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,s=this._t,i=this._i;return i>=s.length?{value:void 0,done:!0}:(t=e(s,i),this._i+=t.length,{value:t,done:!1})})},gDW3:function(t,s){},h72K:function(t,s,i){"use strict";var e=i("Izdj");s.a={data:function(){return{tableHeight:0}},mixins:[e.a],mounted:function(){this.onResize()},destroyed:function(){this.offResize()},methods:{computPageNum:function(t,s,i,e){if(t&&s&&i&&e){var a=t-e;return Math.ceil(a/s)-i>=0?i:1}return 1}},watch:{totalHeight:function(t){this.tableHeight=t>0?t-120-70:0}}}},kfHR:function(t,s,i){t.exports={default:i("KYMQ"),__esModule:!0}},mggn:function(t,s,i){"use strict";var e=i("deIM"),a=i("tIHl"),n={name:"CusTab",props:{tabList:{type:Array,default:function(){return[]}},show:{type:Boolean,default:!1}},components:{Dialog:e.a},data:function(){return{collections:[],title:"添加收藏夹",placeholder:"输入收藏夹名称，2-20个汉字、字母、数字",width:400,visible:!1,colName:""}},methods:{handeChange:function(t){this.collections.forEach(function(t){t.isSelected=!1}),this.tabList.forEach(function(s){s.label===t.label?s.isSelected=!0:s.isSelected=!1}),this.$router.replace(t.path)},addCollection:function(){this.visible=!0},handleOk:function(){if(!this.colName&&""===this.colName.trim())return Object(a.a)("请补全名称"),!1;var t={label:this.colName,icon:"icondakai-",path:"/main/collection",count:0,isSelected:!1};this.collections.push(t),this.handleClose()},handleClose:function(){this.visible=!1},handeCollectionChange:function(t){this.tabList.forEach(function(t){t.isSelected=!1}),this.collections.forEach(function(s){s.label===t.label?(t.isSelected=!0,s.isSelected=!0):s.isSelected=!1}),this.$router.replace(t.path),this.$bus.$emit("changeTab",t)}}},r={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"cus-tab-layout"},[t._t("title",function(){return[t._v("数据")]}),t._v(" "),i("div",t._l(t.tabList,function(s,e){return s.visible?i("div",{key:e,class:["sub-tab-content",s.isSelected?"sub-tab-selected":"sub-tab-noSelected"],on:{click:function(i){return t.handeChange(s)}}},[i("div",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center"}},[i("i",{class:["iconfont",s.icon,"icon-sub-tab",s.isSelected?"icon-sub-tab-s":""]}),t._v(" "),i("span",{class:["sub-tab-label",s.isSelected?"sub-tab-label-s":""]},[t._v(t._s(s.label))])]),t._v(" "),i("span",[t._v(t._s(s.count))]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:s.isSelected,expression:"item.isSelected"}],staticClass:"sub-tab-line"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:s.isSelected,expression:"item.isSelected"}],staticClass:"sub-tab-white-line"})]):t._e()}),0),t._v(" "),t.show?i("div",[i("p",{staticStyle:{width:"100%",height:"45px","line-height":"45px","font-size":"13px",color:"#8A9199","padding-left":"20px","margin-top":"20px"}},[t._v("\n\t\t\t收藏夹")]),t._v(" "),t._l(t.collections,function(s,e){return i("div",{key:e,class:["sub-tab-content",s.isSelected?"sub-tab-selected":"sub-tab-noSelected"],on:{click:function(i){return t.handeCollectionChange(s)}}},[i("div",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center"}},[i("i",{class:["iconfont",s.icon,"icon-sub-tab",s.isSelected?"icon-sub-tab-s":""]}),t._v(" "),i("span",{class:["sub-tab-label",s.isSelected?"sub-tab-label-s":""]},[t._v(t._s(s.label))])]),t._v(" "),i("span",[t._v(t._s(s.count))]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:s.isSelected,expression:"item.isSelected"}],staticClass:"sub-tab-line"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:s.isSelected,expression:"item.isSelected"}],staticClass:"sub-tab-white-line"})])}),t._v(" "),i("div",{staticClass:"bottom_btn_layout",on:{click:t.addCollection}},[t._v("添加收藏夹")])],2):t._e(),t._v(" "),i("Dialog",{attrs:{isShowBottomBtn:!0,title:t.title,visible:t.visible,width:t.width},on:{cus_cancel:t.handleClose,cus_ok:t.handleOk}},[i("div",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"}},[i("Input",{attrs:{placeholder:t.placeholder},model:{value:t.colName,callback:function(s){t.colName=s},expression:"colName"}})],1)])],2)},staticRenderFns:[]};var h=i("C7Lr")(n,r,!1,function(t){i("FT7i")},"data-v-caf144cc",null);s.a=h.exports},mqoy:function(t,s,i){"use strict";var e=i("deIM"),a=i("RuWt"),n=i("tIHl"),r=i("TPXC"),h={components:{Dialog:e.a,CsPage:r.a},data:function(){return{currentRow:null,key:"",pageSize:5*a.y,total:0,current:1,list:[],visible:!1,columns:[{title:"坐标系名称",key:"name",slot:"name",className:"table-header-text-default",width:320},{title:"EPSG",key:"srid",slot:"srid",width:100,className:"table-header-text-default"},{title:"坐标参考系",key:"proj4",slot:"proj4",className:"table-header-text-default"}]}},computed:{proj4:function(){return this.currentRow?this.currentRow.proj4:""}},watch:{},methods:{clear:function(){this.currentRow=null,this.pageSize=5*a.y,this.total=0,this.current=1,this.list=[],this.key=""},handleSelectChange:function(t){this.currentRow=t},handleClose:function(){this.clear(),this.visible=!1},handleOk:function(){if(!this.currentRow)return Object(n.a)("请选择一个坐标系!"),!1;this.$emit("on-select",this.currentRow),this.clear(),this.visible=!1},show:function(){this.clear(),this.querySrss(this.current,this.pageSize,this.key),this.visible=!0},handleSearch:function(){this.current=1,this.currentRow=null,this.querySrss(this.current,this.pageSize,this.key)},querySrss:function(t,s,i){var e=this,a={params:{page:t,page_size:s,key:i},success:function(t){t?(e.total=t.total,e.list=t.rows?t.rows:[]):(e.total=0,e.list=0)}};this.$http.getSrsAll(a)},handleChangePage:function(t){this.currentRow=null,this.current=t,this.querySrss(this.current,this.pageSize,this.key)},handlePageSizeChange:function(t){this.currentRow=null,this.current=1,this.pageSize=t,this.querySrss(this.current,this.pageSize,this.key)}}},o={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("Dialog",{attrs:{isShowBottomBtn:!1,title:"选择坐标系",visible:t.visible,showStep:!1,styles:{top:"15vh",width:"700px"}},on:{cus_cancel:t.handleClose}},[i("Row",{attrs:{type:"flex",align:"middle"}},[i("Col",{attrs:{span:"2"}},[t._v("EPSG")]),t._v(" "),i("Col",{attrs:{span:"22"}},[i("Input",{attrs:{placeholder:"请输入EPSG值"},on:{"on-enter":function(s){return s.stopPropagation(),t.handleSearch.apply(null,arguments)}},model:{value:t.key,callback:function(s){t.key=s},expression:"key"}})],1)],1),t._v(" "),i("Table",{staticStyle:{"margin-top":"10px"},attrs:{"highlight-row":!0,border:"",columns:t.columns,data:t.list,height:280},on:{"on-current-change":t.handleSelectChange},scopedSlots:t._u([{key:"name",fn:function(s){var e=s.row;return[i("div",{staticClass:"label-ellipsis",attrs:{title:e.name}},[t._v(t._s(e.name))])]}},{key:"srid",fn:function(s){var i=s.row;return[t._v(t._s(i.srid))]}},{key:"proj4",fn:function(s){var e=s.row;return[i("div",{staticClass:"label-ellipsis"},[t._v(t._s(e.proj4))])]}}])}),t._v(" "),i("div",{staticClass:"srs-proj"},[t._v(t._s(t.proj4))]),t._v(" "),i("Row",{staticClass:"cus-view",staticStyle:{"padding-top":"16px"},attrs:{type:"flex",justify:"end",align:"middle"}},[i("Col",{attrs:{span:"16"}},[i("CsPage",{attrs:{current:t.current,"page-size":t.pageSize,total:t.total},on:{"on-page-size-change":t.handlePageSizeChange,"on-change":t.handleChangePage}})],1),t._v(" "),i("Col",{staticStyle:{"text-align":"right"},attrs:{span:"8"}},[i("Button",{staticStyle:{"margin-right":"20px",width:"60px"},on:{click:function(s){return s.stopPropagation(),t.handleClose.apply(null,arguments)}}},[t._v("取消")]),t._v(" "),i("Button",{staticStyle:{width:"60px"},attrs:{type:"primary"},on:{click:function(s){return s.stopPropagation(),t.handleOk.apply(null,arguments)}}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]};var l=i("C7Lr")(h,o,!1,function(t){i("oLzC")},"data-v-a9517d2a",null);s.a=l.exports},oLzC:function(t,s){},pBi0:function(t,s,i){var e=i("Bcth"),a=i("LYr1")("iterator"),n=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||n[a]===t)}},qbHO:function(t,s){},qbdk:function(t,s,i){"use strict";var e=i("SKL3"),a=i("fdvo"),n=i("Bcth"),r=i("1m25");t.exports=i("CnHQ")(Array,"Array",function(t,s){this._t=r(t),this._i=0,this._k=s},function(){var t=this._t,s=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,a(1)):a(0,"keys"==s?i:"values"==s?t[i]:[i,t[i]])},"values"),n.Arguments=n.Array,e("keys"),e("values"),e("entries")},"uH+N":function(t,s){},ug44:function(t,s){},vY6q:function(t,s,i){i("8LqW"),i("g5OY"),t.exports=i("XO/m")}});