define(["exports","./Matrix2-91d5b6af","./when-4bbc8319","./RuntimeError-346a3079","./Transforms-86b6fa28","./ComponentDatatype-f194c48b"],(function(t,n,a,r,e,o){"use strict";var s=Math.cos,i=Math.sin,h=Math.sqrt,g={computePosition:function(t,n,r,e,o,g,u){var C=n.radiiSquared,c=t.nwCorner,l=t.boundingRectangle,M=c.latitude-t.granYCos*e+o*t.granXSin,S=s(M),d=i(M),w=C.z*d,m=c.longitude+e*t.granYSin+o*t.granXCos,p=S*s(m),R=S*i(m),X=C.x*p,Y=C.y*R,f=h(X*p+Y*R+w*d);if(g.x=X/f,g.y=Y/f,g.z=w/f,r){var v=t.stNwCorner;a.defined(v)?(M=v.latitude-t.stGranYCos*e+o*t.stGranXSin,m=v.longitude+e*t.stGranYSin+o*t.stGranXCos,u.x=(m-t.stWest)*t.lonScalar,u.y=(M-t.stSouth)*t.latScalar):(u.x=(m-l.west)*t.lonScalar,u.y=(M-l.south)*t.latScalar)}}},u=new n.Matrix2,C=new n.Cartesian3,c=new n.Cartographic,l=new n.Cartesian3,M=new e.GeographicProjection;function S(t,a,r,e,o,s,i){var h=Math.cos(a),g=e*h,c=r*h,S=Math.sin(a),d=e*S,w=r*S;C=M.project(t,C),C=n.Cartesian3.subtract(C,l,C);var m=n.Matrix2.fromRotation(a,u);C=n.Matrix2.multiplyByVector(m,C,C),C=n.Cartesian3.add(C,l,C),s-=1,i-=1;var p=(t=M.unproject(C,t)).latitude,R=p+s*w,X=p-g*i,Y=p-g*i+s*w,f=Math.max(p,R,X,Y),v=Math.min(p,R,X,Y),O=t.longitude,_=O+s*c,x=O+i*d,G=O+i*d+s*c;return{north:f,south:v,east:Math.max(O,_,x,G),west:Math.min(O,_,x,G),granYCos:g,granYSin:d,granXCos:c,granXSin:w,nwCorner:t}}g.computeOptions=function(t,a,e,s,i,h,g){var u,C,d,w,m,p=t.east,R=t.west,X=t.north,Y=t.south,f=!1,v=!1;X===o.CesiumMath.PI_OVER_TWO&&(f=!0),Y===-o.CesiumMath.PI_OVER_TWO&&(v=!0);var O=X-Y;d=(m=R>p?o.CesiumMath.TWO_PI-R+p:p-R)/((u=Math.ceil(m/a)+1)-1),w=O/((C=Math.ceil(O/a)+1)-1);var _=n.Rectangle.northwest(t,h),x=n.Rectangle.center(t,c);0===e&&0===s||(x.longitude<_.longitude&&(x.longitude+=o.CesiumMath.TWO_PI),l=M.project(x,l));var G=w,P=d,W=n.Rectangle.clone(t,i),b={granYCos:G,granYSin:0,granXCos:P,granXSin:0,nwCorner:_,boundingRectangle:W,width:u,height:C,northCap:f,southCap:v};if(0!==e){var y=S(_,e,d,w,0,u,C);if(X=y.north,Y=y.south,p=y.east,R=y.west,X<-o.CesiumMath.PI_OVER_TWO||X>o.CesiumMath.PI_OVER_TWO||Y<-o.CesiumMath.PI_OVER_TWO||Y>o.CesiumMath.PI_OVER_TWO)throw new r.DeveloperError("Rotated rectangle is invalid.  It crosses over either the north or south pole.");b.granYCos=y.granYCos,b.granYSin=y.granYSin,b.granXCos=y.granXCos,b.granXSin=y.granXSin,W.north=X,W.south=Y,W.east=p,W.west=R}if(0!==s){e-=s;var I=n.Rectangle.northwest(W,g),T=S(I,e,d,w,0,u,C);b.stGranYCos=T.granYCos,b.stGranXCos=T.granXCos,b.stGranYSin=T.granYSin,b.stGranXSin=T.granXSin,b.stNwCorner=I,b.stWest=T.west,b.stSouth=T.south}return b},t.RectangleGeometryLibrary=g}));
//# sourceMappingURL=RectangleGeometryLibrary-b2e91b9c.js.map
